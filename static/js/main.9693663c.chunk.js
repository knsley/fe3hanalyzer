(this.webpackJsonpmc3h=this.webpackJsonpmc3h||[]).push([[0],{329:function(e,t,a){},330:function(e,t,a){},502:function(e,t,a){"use strict";a.r(t);var r,n=a(1),i=a(0),s=a.n(i),o=a(27),c=a.n(o),l=(a(329),a(29)),u=a(34),d=a(36),h=a(37),p=(a(330),a(302)),f=a(551),v=a(12),b=a.n(v),g=a(21),m=a(30);function j(e){switch(e){case r.BylethFemale:return"Byleth (Female)";case r.BylethMale:return"Byleth (Male)";default:return r[e]}}!function(e){e[e.BylethMale=0]="BylethMale",e[e.BylethFemale=1]="BylethFemale",e[e.Edelgard=2]="Edelgard",e[e.Hubert=3]="Hubert",e[e.Dorothea=4]="Dorothea",e[e.Ferdinand=5]="Ferdinand",e[e.Bernadetta=6]="Bernadetta",e[e.Caspar=7]="Caspar",e[e.Petra=8]="Petra",e[e.Linhardt=9]="Linhardt",e[e.Dimitri=10]="Dimitri",e[e.Dedue=11]="Dedue",e[e.Felix=12]="Felix",e[e.Mercedes=13]="Mercedes",e[e.Ashe=14]="Ashe",e[e.Annette=15]="Annette",e[e.Sylvain=16]="Sylvain",e[e.Ingrid=17]="Ingrid",e[e.Claude=18]="Claude",e[e.Lorenz=19]="Lorenz",e[e.Hilda=20]="Hilda",e[e.Raphael=21]="Raphael",e[e.Lysithea=22]="Lysithea",e[e.Ignatz=23]="Ignatz",e[e.Marianne=24]="Marianne",e[e.Leonie=25]="Leonie",e[e.Manuela=26]="Manuela",e[e.Hanneman=27]="Hanneman",e[e.Seteth=28]="Seteth",e[e.Flayn=29]="Flayn",e[e.Cyril=30]="Cyril",e[e.Catherine=31]="Catherine",e[e.Alois=32]="Alois",e[e.Gilbert=33]="Gilbert",e[e.Shamir=34]="Shamir",e[e.Yuri=35]="Yuri",e[e.Balthus=36]="Balthus",e[e.Constance=37]="Constance",e[e.Hapi=38]="Hapi",e[e.Jeritza=39]="Jeritza",e[e.Anna=40]="Anna",e[e.End=41]="End"}(r||(r={}));var x,y=new Map,O=new Map;function w(e){var t=y.get(e);if(void 0!==t)return t;throw new RangeError("Not a valid CharacterName enum value")}function k(e){var t=O.get(e);if(void 0!==t)return t;throw new RangeError("Not a valid display name for a character.")}!function(){for(var e=0;e<r.End.valueOf();e++){var t=e,a=j(t);y.set(t,a),O.set(a,t)}}(),function(e){e[e.Player=0]="Player",e[e.BlackEagles=1]="BlackEagles",e[e.BlueLions=2]="BlueLions",e[e.GoldenDeer=3]="GoldenDeer",e[e.ChurchOfSeiros=4]="ChurchOfSeiros",e[e.AshenWolves=5]="AshenWolves",e[e.Other=6]="Other",e[e.End=7]="End"}(x||(x={}));var S=new Map;function C(e){var t=S.get(e);if(void 0===t)throw new RangeError("faction value is not recognized as valid faction.");return t}S.set(x.Player,"Player"),S.set(x.BlackEagles,"Black Eagles"),S.set(x.BlueLions,"Blue Lions"),S.set(x.GoldenDeer,"Golden Deer"),S.set(x.ChurchOfSeiros,"Church of Seiros"),S.set(x.AshenWolves,"Ashen Wolves"),S.set(x.Other,"Other");var L=function(e,t){return e-t},M=new Map;M.set(x.Player,[r.BylethMale,r.BylethFemale].sort(L)),M.set(x.BlackEagles,[r.Edelgard,r.Hubert,r.Dorothea,r.Ferdinand,r.Bernadetta,r.Caspar,r.Petra,r.Linhardt].sort(L)),M.set(x.BlueLions,[r.Dimitri,r.Dedue,r.Felix,r.Mercedes,r.Ashe,r.Annette,r.Sylvain,r.Ingrid].sort(L)),M.set(x.GoldenDeer,[r.Claude,r.Lorenz,r.Hilda,r.Raphael,r.Lysithea,r.Ignatz,r.Marianne,r.Leonie].sort(L)),M.set(x.ChurchOfSeiros,[r.Manuela,r.Hanneman,r.Seteth,r.Flayn,r.Cyril,r.Catherine,r.Alois,r.Gilbert,r.Shamir].sort(L)),M.set(x.AshenWolves,[r.Yuri,r.Balthus,r.Constance,r.Hapi].sort(L)),M.set(x.Other,[r.Jeritza,r.Anna].sort(L));var A=a(22);function E(e,t,a){return e<t?t:e>a?a:e}var B=-1,D=new Map;D.set(0,"hp"),D.set(1,"str"),D.set(2,"mag"),D.set(3,"dex"),D.set(4,"spd"),D.set(5,"lck"),D.set(6,"def"),D.set(7,"res"),D.set(8,"cha"),D.set(B,"stat+1");var I=new Map;function R(e){var t=D.get(e);if(void 0===t)throw new RangeError("Unknown StatArray index ".concat(e));return t}Array.from(D.entries()).forEach((function(e){return I.set(e[1],e[0])}));function P(e,t){for(var a=new Array(9),r=0;r<9;r++)a[r]=t(e[r],r);return a}function N(e){for(var t=new Array(0),a=0;a<9;a++)t.push(e(a));return t}function T(e){return e.reduce((function(e,t){return e+t}))}function G(e){return[e,e,e,e,e,e,e,e,e]}function V(){return G(0)}var U=[0,1,2,3,4,5,6,7,8];function W(e,t,a){var r=U.map((function(r){return a(e[r],t[r])}));return Object(m.a)(r)}function _(e,t){return W(e,t,(function(e,t){return e+t}))}function F(e,t){return W(e,t,(function(e,t){return E(e+t,0,1)}))}function H(e,t){return e.every((function(e,a){return e===t[a]}))}function z(e){var t=N((function(t){return"".concat(R(t),": ").concat(e[t])}));return"{".concat(t.join(", "),"}")}var J,K=a(19);!function(e){e[e.Commoner=0]="Commoner",e[e.Noble=1]="Noble",e[e.Dancer=2]="Dancer",e[e.EnlightenedOne=3]="EnlightenedOne",e[e.ArmoredLord=4]="ArmoredLord",e[e.HighLord=5]="HighLord",e[e.WyvernMaster=6]="WyvernMaster",e[e.Emperor=7]="Emperor",e[e.GreatLord=8]="GreatLord",e[e.Barbarossa=9]="Barbarossa",e[e.Myrmidon=10]="Myrmidon",e[e.Soldier=11]="Soldier",e[e.Fighter=12]="Fighter",e[e.Monk=13]="Monk",e[e.Lord=14]="Lord",e[e.Mercenary=15]="Mercenary",e[e.Thief=16]="Thief",e[e.ArmoredKnight=17]="ArmoredKnight",e[e.Cavalier=18]="Cavalier",e[e.Brigand=19]="Brigand",e[e.Archer=20]="Archer",e[e.Brawler=21]="Brawler",e[e.Mage=22]="Mage",e[e.DarkMage=23]="DarkMage",e[e.Priest=24]="Priest",e[e.PegasusKnight=25]="PegasusKnight",e[e.Hero=26]="Hero",e[e.Swordmaster=27]="Swordmaster",e[e.Assassin=28]="Assassin",e[e.FortressKnight=29]="FortressKnight",e[e.Paladin=30]="Paladin",e[e.WyvernRider=31]="WyvernRider",e[e.Warrior=32]="Warrior",e[e.Sniper=33]="Sniper",e[e.Grappler=34]="Grappler",e[e.Warlock=35]="Warlock",e[e.DarkBishop=36]="DarkBishop",e[e.Bishop=37]="Bishop",e[e.FalconKnight=38]="FalconKnight",e[e.WyvernLord=39]="WyvernLord",e[e.MortalSavant=40]="MortalSavant",e[e.GreatKnight=41]="GreatKnight",e[e.BowKnight=42]="BowKnight",e[e.DarkKnight=43]="DarkKnight",e[e.HolyKnight=44]="HolyKnight",e[e.WarMaster=45]="WarMaster",e[e.Gremory=46]="Gremory",e[e.Trickster=47]="Trickster",e[e.WarMonk=48]="WarMonk",e[e.WarCleric=49]="WarCleric",e[e.DarkFlier=50]="DarkFlier",e[e.Valkyrie=51]="Valkyrie",e[e.DeathKnight=52]="DeathKnight",e[e.End=53]="End"}(J||(J={}));var Z,Y=new Map,Q=new Map;function q(e){var t=Q.get(e);if(void 0===t)throw new RangeError("Not a valid CharacterClass enum value.");return t}function X(e){var t=Y.get(e);if(void 0===t)throw new RangeError("Not a valid class name, no matching enum found.");return t}function $(e){if(e===Z.HouseLeader)return"House Leader";if(e>=0||e<Z.End)return Z[e];throw new RangeError("Not recognized character class group")}!function(){for(var e=J.End.valueOf(),t=0;t<e;t++){var a=J[t].replace(/\B[A-Z]/g," $&");Y.set(a,t),Q.set(t,a)}}(),function(e){e[e.Unique=0]="Unique",e[e.Beginner=1]="Beginner",e[e.Intermediate=2]="Intermediate",e[e.Advanced=3]="Advanced",e[e.Special=4]="Special",e[e.Master=5]="Master",e[e.Player=6]="Player",e[e.HouseLeader=7]="HouseLeader",e[e.Other=8]="Other",e[e.End=9]="End"}(Z||(Z={}));var ee=new Map;ee.set(Z.Unique,[J.Commoner,J.Noble,J.Dancer]),ee.set(Z.Beginner,[J.Myrmidon,J.Soldier,J.Fighter,J.Monk]),ee.set(Z.Intermediate,[J.Lord,J.Mercenary,J.Thief,J.ArmoredKnight,J.Cavalier,J.Brigand,J.Archer,J.Brawler,J.Mage,J.DarkMage,J.Priest,J.PegasusKnight]),ee.set(Z.Advanced,[J.Hero,J.Swordmaster,J.Assassin,J.FortressKnight,J.Paladin,J.WyvernRider,J.Warrior,J.Sniper,J.Grappler,J.Warlock,J.DarkBishop,J.Bishop]),ee.set(Z.Special,[J.Trickster,J.WarMonk,J.WarCleric,J.DarkFlier,J.Valkyrie]),ee.set(Z.Master,[J.FalconKnight,J.WyvernLord,J.MortalSavant,J.GreatKnight,J.BowKnight,J.DarkKnight,J.HolyKnight,J.WarMaster,J.Gremory]),ee.set(Z.Player,[J.EnlightenedOne]),ee.set(Z.HouseLeader,[J.ArmoredLord,J.HighLord,J.WyvernMaster,J.Emperor,J.GreatLord,J.Barbarossa]),ee.set(Z.Other,[J.DeathKnight]);var te=a(49),ae=a.n(te),re=a.p+"static/media/class_bonus_stats.73a62dea.csv",ne=a.p+"static/media/class_min_stats.f059bf17.csv",ie=a.p+"static/media/class_growth_rates.1801c3b7.csv",se=a.p+"static/media/class_requirements.4f12d221.csv",oe={fetch:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(g.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fetch(t).then((function(e){return e.text()}),(function(e){throw new Error(e)})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};function ce(){return oe}var le=new Set([r.Edelgard,r.Hubert,r.Ferdinand,r.Bernadetta,r.Caspar,r.Linhardt,r.Dimitri,r.Felix,r.Annette,r.Sylvain,r.Ingrid,r.Claude,r.Lorenz,r.Hilda,r.Lysithea,r.Marianne,r.Seteth,r.Flayn,r.Hanneman,r.Catherine,r.Gilbert,r.Alois,r.Balthus,r.Constance,r.Jeritza]),ue=new Set([r.BylethMale,r.BylethFemale,r.Dorothea,r.Petra,r.Dedue,r.Mercedes,r.Ashe,r.Raphael,r.Ignatz,r.Leonie,r.Manuela,r.Shamir,r.Cyril,r.Yuri,r.Hapi,r.Anna]),de=new Set([r.Claude,r.Dimitri,r.Edelgard]),he=new Set([r.BylethMale,r.BylethFemale]),pe=new Map;pe.set("ProtagonistBackgrounds",he),pe.set("LordBackgrounds",de),pe.set("CommonerBackgrounds",ue),pe.set("NobleBackgrounds",le);var fe=new Map;function ve(e){var t=fe.get(e);if(void 0===t)throw new RangeError("No class data found for class ".concat(J[e]));return t}function be(e){return fe.has(e)}function ge(e){return e.map((function(e){return.01*e}))}var me=new Map;function je(e){var t=me.get(e);if(void 0===t)throw new RangeError("No growth rates found for class ".concat(J[e]));return t}function xe(e,t){var a=ve(t).requirements.filter((function(t){var a=null===t.gender||t.gender===Xe(e).gender,r=null===t.characters||t.characters.has(e);return a&&r}));return a.length>0?a.reduce((function(e,t){return e.level<=t.level?e:t})):void 0}function ye(e,t){for(var a=new Set,r=0;r<J.End;r++){var n=r,i=xe(e,n);void 0!==i&&((null===i.characters||i.characters.has(e))&&(null!==i.gender&&i.gender!==Xe(e).gender||(void 0===t||i.level<=t)&&a.add(n)))}return a}function Oe(e){return 0===e.length?0:Number.parseInt(e)}var we={delimiter:",",newline:"\n",quoteChar:'"',escapeChar:'"',header:!1,dynamicTyping:!1,worker:!1,comments:!0,skipEmptyLines:!0};function ke(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(g.a)(b.a.mark((function e(t){var a,r,n,i,s,o,c,l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ce().fetch,e.next=3,a(t).then((function(e){return e.replaceAll("\r\n","\n")}));case 3:r=e.sent,n=new Map,i=ae.a.parse(r,we),s=Object(K.a)(i.data),e.prev=7,s.s();case 9:if((o=s.n()).done){e.next=24;break}c=o.value,l=J.End,e.prev=12,l=X(c[0]),e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(12),c[0].length>0&&console.log("Bonus stats: failed to look up display name. ".concat(c[0])),e.abrupt("continue",22);case 20:u=[Oe(c[1]),Oe(c[2]),Oe(c[3]),Oe(c[4]),Oe(c[5]),Oe(c[6]),Oe(c[7]),Oe(c[8]),Oe(c[9])],n.set(l,u);case 22:e.next=9;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(7),s.e(e.t1);case 29:return e.prev=29,s.f(),e.finish(29);case 32:return e.abrupt("return",n);case 33:case"end":return e.stop()}}),e,null,[[7,26,29,32],[12,16]])})))).apply(this,arguments)}function Ce(e){return Le.apply(this,arguments)}function Le(){return(Le=Object(g.a)(b.a.mark((function e(t){var a,r,n,i,s,o,c,l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ce().fetch,e.next=3,a(t).then((function(e){return e.replaceAll("\r\n","\n")}));case 3:r=e.sent,n=new Map,i=ae.a.parse(r,we),s=Object(K.a)(i.data),e.prev=7,s.s();case 9:if((o=s.n()).done){e.next=24;break}c=o.value,l=J.End,e.prev=12,l=X(c[0]),e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(12),c[0].length>0&&console.log("Base stats: failed to look up display name. ".concat(c[0])),e.abrupt("continue",22);case 20:u=[Oe(c[1]),Oe(c[2]),Oe(c[3]),Oe(c[4]),Oe(c[5]),Oe(c[6]),Oe(c[7]),Oe(c[8]),Oe(c[9])],n.set(l,u);case 22:e.next=9;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(7),s.e(e.t1);case 29:return e.prev=29,s.f(),e.finish(29);case 32:return e.abrupt("return",n);case 33:case"end":return e.stop()}}),e,null,[[7,26,29,32],[12,16]])})))).apply(this,arguments)}function Me(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(g.a)(b.a.mark((function e(t){var a,r,n,i,s,o,c,l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ce().fetch,e.next=3,a(t).then((function(e){return e.replaceAll("\r\n","\n")}));case 3:r=e.sent,n=new Map,i=ae.a.parse(r,we),s=Object(K.a)(i.data),e.prev=7,s.s();case 9:if((o=s.n()).done){e.next=24;break}c=o.value,l=J.End,e.prev=12,l=X(c[0]),e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(12),c[0].length>0&&console.log("Growth rates: failed to look up display name. ".concat(c[0])),e.abrupt("continue",22);case 20:u=ge([Oe(c[1]),Oe(c[2]),Oe(c[3]),Oe(c[4]),Oe(c[5]),Oe(c[6]),Oe(c[7]),Oe(c[8]),Oe(c[9])]),n.set(l,u);case 22:e.next=9;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(7),s.e(e.t1);case 29:return e.prev=29,s.f(),e.finish(29);case 32:return e.abrupt("return",n);case 33:case"end":return e.stop()}}),e,null,[[7,26,29,32],[12,16]])})))).apply(this,arguments)}function Ee(e){return e.startsWith("m")?"male":e.startsWith("f")?"female":null}function Be(e){if(0===e.length)return null;var t=pe.get(e);if(void 0!==t)return t;try{var a=k(e);return new Set([a])}catch(r){console.log('Failed to match required character string "'.concat(e,'" to character set.'))}return null}function De(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(g.a)(b.a.mark((function e(t){var a,r,n,i,s,o,c,l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ce().fetch,e.next=3,a(t).then((function(e){return e.replaceAll("\r\n","\n")}));case 3:r=e.sent,n=new Map,i=ae.a.parse(r,we),s=Object(K.a)(i.data),e.prev=7,s.s();case 9:if((o=s.n()).done){e.next=26;break}c=o.value,l=J.End,e.prev=12,l=X(c[0]),e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(12),c[0].length>0&&console.log("Class requirements: failed to look up display name. ".concat(c[0])),e.abrupt("continue",24);case 20:u={level:Number.parseInt(c[1]),gender:Ee(c[2]),characters:Be(c[3])},n.has(l)||n.set(l,[]),n.get(l).push(u);case 24:e.next=9;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(7),s.e(e.t1);case 31:return e.prev=31,s.f(),e.finish(31);case 34:return e.abrupt("return",n);case 35:case"end":return e.stop()}}),e,null,[[7,28,31,34],[12,16]])})))).apply(this,arguments)}function Re(){return(Re=Object(g.a)(b.a.mark((function e(){var t,a,r,n,i,s,o,c,l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(re);case 2:return t=e.sent,e.next=5,Ce(ne);case 5:return a=e.sent,e.next=8,Me(ie);case 8:return r=e.sent,e.next=11,De(se);case 11:for(n=e.sent,i=0;i<J.End;i++)s=i,o=t.get(s),c=a.get(s),l=n.get(s),u=r.get(s),void 0!==o&&void 0!==c&&void 0!==l&&void 0!==u||console.log("Class ".concat(q(s)," missing some data. ")+"Bonus Stats: ".concat(void 0!==o,", Min Stats: ").concat(void 0===c,", ")+"Requirements: ".concat(void 0===l,", Growth Rates: ").concat(void 0===u)),void 0!==o&&void 0!==c&&void 0!==l&&fe.set(s,{baseStats:c,bonusStats:o,requirements:l}),void 0!==u&&me.set(s,u);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pe=new Map;function Ne(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(g.a)(b.a.mark((function e(t){var a,n,i,s,o,c,l,u,d,h;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ce().fetch,e.next=3,a(t).then((function(e){return e.replaceAll("\r\n","\n")}));case 3:n=e.sent,i={delimiter:",",newline:"\n",quoteChar:'"',escapeChar:'"',header:!1,dynamicTyping:!1,worker:!1,comments:!0,skipEmptyLines:!0},s=ae.a.parse(n,i),o=Object(K.a)(s.data),e.prev=7,o.s();case 9:if((c=o.n()).done){e.next=24;break}l=c.value,u=r.End,e.prev=12,u=k(l[0]),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(12),e.abrupt("continue",22);case 19:d=l[1].startsWith("m")?"male":"female",h=l[2].startsWith("t"),Pe.set(u,{gender:d,isStudent:h});case 22:e.next=9;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(7),o.e(e.t1);case 29:return e.prev=29,o.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[7,26,29,32],[12,16]])})))).apply(this,arguments)}function Ge(e){return e.map((function(e){return.01*e}))}var Ve=new Map;function Ue(e){return We.apply(this,arguments)}function We(){return(We=Object(g.a)(b.a.mark((function e(t){var a,n,i,s,o,c,l,u,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ce().fetch,e.next=3,a(t).then((function(e){return e.replaceAll("\r\n","\n")}));case 3:n=e.sent,i={delimiter:",",newline:"",quoteChar:'"',escapeChar:'"',header:!1,dynamicTyping:!1,worker:!1,comments:!0,skipEmptyLines:!0},s=ae.a.parse(n,i),o=Object(K.a)(s.data),e.prev=7,o.s();case 9:if((c=o.n()).done){e.next=23;break}l=c.value,u=r.End,e.prev=12,u=k(l[0]),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(12),e.abrupt("continue",21);case 19:d=Ge([Number.parseInt(l[1]),Number.parseInt(l[2]),Number.parseInt(l[3]),Number.parseInt(l[4]),Number.parseInt(l[5]),Number.parseInt(l[6]),Number.parseInt(l[7]),Number.parseInt(l[8]),Number.parseInt(l[9])]),Ve.set(u,d);case 21:e.next=9;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(7),o.e(e.t1);case 28:return e.prev=28,o.f(),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[7,25,28,31],[12,16]])})))).apply(this,arguments)}var _e=new Map;function Fe(e){return He.apply(this,arguments)}function He(){return(He=Object(g.a)(b.a.mark((function e(t){var a,n,i,s,o,c,l,u,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ce().fetch,e.next=3,a(t).then((function(e){return e.replaceAll("\r\n","\n")}));case 3:n=e.sent,i={delimiter:",",newline:"",quoteChar:'"',escapeChar:'"',header:!1,dynamicTyping:!1,worker:!1,comments:!0,skipEmptyLines:!0},s=ae.a.parse(n,i),o=Object(K.a)(s.data),e.prev=7,o.s();case 9:if((c=o.n()).done){e.next=23;break}l=c.value,u=r.End,e.prev=12,u=k(l[0]),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(12),e.abrupt("continue",21);case 19:d=[Number.parseInt(l[1]),Number.parseInt(l[2]),Number.parseInt(l[3]),Number.parseInt(l[4]),Number.parseInt(l[5]),Number.parseInt(l[6]),Number.parseInt(l[7]),Number.parseInt(l[8]),Number.parseInt(l[9])],_e.set(u,d);case 21:e.next=9;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(7),o.e(e.t1);case 28:return e.prev=28,o.f(),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[7,25,28,31],[12,16]])})))).apply(this,arguments)}var ze=new Map;function Je(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(g.a)(b.a.mark((function e(t){var a,n,i,s,o,c,l,u,d,h,p,f;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ce().fetch,e.next=3,a(t).then((function(e){return e.replaceAll("\r\n","\n")}));case 3:n=e.sent,i={delimiter:",",newline:"",quoteChar:'"',escapeChar:'"',header:!1,dynamicTyping:!1,worker:!1,comments:!0,skipEmptyLines:!0},s=ae.a.parse(n,i),o=Object(K.a)(s.data),e.prev=7,o.s();case 9:if((c=o.n()).done){e.next=28;break}l=c.value,u=r.End,e.prev=12,u=k(l[0]),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(12),e.abrupt("continue",26);case 19:d=Number.parseInt(l[1]),h=X(l[2]),p=[Number.parseInt(l[3]),Number.parseInt(l[4]),Number.parseInt(l[5]),Number.parseInt(l[6]),Number.parseInt(l[7]),Number.parseInt(l[8]),Number.parseInt(l[9]),Number.parseInt(l[10]),Number.parseInt(l[11])],f=l[12],ze.has(u)||ze.set(u,[]),ze.get(u).push({level:d,class:h,stats:p,title:f});case 26:e.next=9;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(7),o.e(e.t1);case 33:return e.prev=33,o.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[7,30,33,36],[12,16]])})))).apply(this,arguments)}var Ze=a.p+"static/media/character_traits.918f2cd0.csv",Ye=a.p+"static/media/character_growth_rates.adf11c0c.csv",Qe=a.p+"static/media/character_max_stats.ebd6b9f7.csv",qe=a.p+"static/media/character_presets.c0c191f8.csv";function Xe(e){var t=Pe.get(e);if(void 0===t)throw new RangeError("No character traits entry for ".concat(r[e]));return t}function $e(e,t){var a=_e.get(e);if(void 0===a)throw new RangeError("Character max stats not found.");var r=Object(m.a)(a);return!0===(null===t||void 0===t?void 0:t.StrAndSpdUp)&&(r[1]+=5,r[4]+=5),!0===(null===t||void 0===t?void 0:t.LckAndChaUp)&&(r[5]+=5,r[8]+=5),!0===(null===t||void 0===t?void 0:t.MagAndDexUp)&&(r[2]+=5,r[3]+=5),!0===(null===t||void 0===t?void 0:t.DefAndResUp)&&(r[6]+=5,r[7]+=5),r}function et(e){var t;return null!==(t=ze.get(e))&&void 0!==t?t:[]}function tt(e,t){var a=ve(t).bonusStats;return W(e,a,(function(e,t){return e-t}))}function at(){for(var e=[],t=0;t<r.End;t++){var a=t;Pe.has(a)&&_e.has(a)&&Ve.has(a)&&e.push(a)}return new Set(e)}function rt(){return(rt=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(Ze);case 2:return e.next=4,Ue(Ye);case 4:return e.next=6,Fe(Qe);case 6:return e.next=8,Je(qe);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nt=a(9);var it=a(113),st=function(){function e(t,a){Object(l.a)(this,e),this.subKey=void 0,this.rootProvider=void 0,this.obj=void 0,this.subKey=t,this.rootProvider=a;var r=a.getItem(this.subKey);this.obj=null===r?{}:JSON.parse(r)}return Object(u.a)(e,[{key:"setItem",value:function(e,t){this.obj[e]=t,this.rootProvider.setItem(this.subKey,JSON.stringify(this.obj))}},{key:"getItem",value:function(e){return e in this.obj?this.obj[e]:null}},{key:"clear",value:function(){this.obj={},this.rootProvider.setItem(this.subKey,JSON.stringify(this.obj))}}]),e}(),ot=[{baseColor:"#d34747",baseHighlightColor:"#f28282",medianValueColor:"#c11e1e",medianValueHighlightColor:"#f28282",referenceValueColor:"#a70303",referenceValueHighlightColor:"#c11e1e"},{baseColor:"#404094",baseHighlightColor:"#6666a8",medianValueColor:"#262687",medianValueHighlightColor:"#6666a8",referenceValueColor:"#131375",referenceValueHighlightColor:"#262687"},{baseColor:"#248924",baseHighlightColor:"#469b46",medianValueColor:"#0c780c",medianValueHighlightColor:"#469b46",referenceValueColor:"#006500",referenceValueHighlightColor:"#0c780c"}];var ct=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return a}(Object(it.a)(Error));function lt(e,t){var a=ye(e,t);if(0===a.size)throw new ct("Character has no eligible classes at level ".concat(t));var r=new Set([J.Commoner,J.Noble]),n=Array.from(a).filter((function(e){return r.has(e)}));if(n.length>0)return n[0];var i=Array.from(a).map((function(e){return[e,ve(e)]}));return i.sort((function(t,a){var r=xe(e,t[0]),n=xe(e,a[0]);return r.level-n.level})),i[0][0]}function ut(){var e=Math.random()<.5?r.BylethMale:r.BylethFemale,t=function(e){var t=et(e);if(t.length>0){var a=Object(m.a)(t);return a.sort((function(e,t){return e.level-t.level})),a[0]}return{level:1,class:lt(e,1),stats:[25,5,5,5,5,5,5,5,5]}}(e),a=Math.max(30,t.level),n={StrAndSpdUp:!0,LckAndChaUp:!0,MagAndDexUp:!0,DefAndResUp:!0};return{character:e,startLevel:t.level,startClass:t.class,startStats:t.stats,changes:[],endLevel:a,maxStatMods:n}}var dt=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return a}(Object(it.a)(Error));var ht=function(){function e(t,a){Object(l.a)(this,e),this.storageProvider=void 0,this.pages=void 0,this.listeners=void 0,this.listenerCounter=void 0,this.pageListChangeCallback=void 0,this.storageProvider=new st("pages",t),this.pages=new Map,this.listeners=new Map,this.listenerCounter=0,this.pageListChangeCallback=a}return Object(u.a)(e,[{key:"getPages",value:function(){return new Set(this.pages.keys())}},{key:"hasPage",value:function(e){return this.pages.has(e)}},{key:"createNewPage",value:function(e){if(this.pages.has(e))throw new RangeError("Cannot create new page against an existing page number.");this.pages.set(e,{profiles:[ut()],referenceStats:V(),report:null}),this.pageListChangeCallback()}},{key:"deletePage",value:function(e){this.pages.has(e)&&this.pages.delete(e),this.pageListChangeCallback()}},{key:"newProfile",value:function(e){if(!this.pages.has(e))throw new RangeError("Cannot find page data for page number ".concat(e));var t=this.pages.get(e);if(t.profiles.length>=ot.length)throw new dt("Cannot add more profiles because profile limit has been reached.");var a={profiles:[].concat(Object(m.a)(t.profiles),[ut()]),referenceStats:V(),report:t.report};this.pages.set(e,a),this.onPageUpdate(e)}},{key:"deleteProfile",value:function(e,t){if(!this.pages.has(e))throw new RangeError("Cannot find page data for page number ".concat(e));var a=this.pages.get(e);if(t>=a.profiles.length||t<0)throw new RangeError("Profile index ".concat(t," is outside range of profiles array."));var r=Object(m.a)(a.profiles);r.splice(t,1);var n={profiles:r,referenceStats:a.referenceStats,report:a.report};this.pages.set(e,n),this.onPageUpdate(e)}},{key:"updateProfile",value:function(e,t,a){if(!this.pages.has(e))throw new RangeError("Cannot find page data for page number ".concat(e));var r=this.pages.get(e);if(t>=r.profiles.length||t<0)throw new RangeError("Profile index ".concat(t," is outside range of profiles array."));var n=Object(m.a)(r.profiles);n[t]=a;var i={profiles:n,referenceStats:r.referenceStats,report:r.report};this.pages.set(e,i),this.onPageUpdate(e)}},{key:"updateAnalysis",value:function(e,t){if(!this.pages.has(e))throw new RangeError("Cannot find page data for page number ".concat(e));var a=this.pages.get(e),r={profiles:a.profiles,referenceStats:a.referenceStats,report:t};this.pages.set(e,r),this.onPageUpdate(e)}},{key:"getPageData",value:function(e){if(!this.pages.has(e))throw new RangeError("Cannot find page data for page number ".concat(e));return this.pages.get(e)}},{key:"addPageListener",value:function(e,t){this.listeners.has(e)||this.listeners.set(e,new Map);var a=this.listeners.get(e),r=this.getNewPageListenerHandle();return a.set(r,t),r}},{key:"removePageListener",value:function(e,t){var a;null===(a=this.listeners.get(e))||void 0===a||a.delete(t)}},{key:"getNewPageListenerHandle",value:function(){var e=this.listenerCounter;return this.listenerCounter++,e}},{key:"onPageUpdate",value:function(e){if(this.listeners.has(e)){var t=this.listeners.get(e);if(this.pages.has(e)){var a,r=this.pages.get(e),n=Object(K.a)(t.values());try{for(n.s();!(a=n.n()).done;){(0,a.value)(e,r)}}catch(i){n.e(i)}finally{n.f()}}}}}]),e}();var pt=function(){function e(t){var a=this;Object(l.a)(this,e),this.modCount=void 0,this.pageManager=void 0,this.analysisResultCache=void 0,this.contextInstance=void 0,this._currentValue=void 0,this.valueCallback=void 0,this.modCount=0,this.pageManager=function(e,t){return new ht(e,t)}(t,(function(){return a.pageListUpdated})),this.analysisResultCache={},this.contextInstance=s.a.createContext(this.getDefaultContextValue()),this._currentValue={modCounter:this.modCount,pageManager:this.pageManager,analysisCache:this.analysisResultCache},this.valueCallback=function(e){}}return Object(u.a)(e,[{key:"setValueChangedCallback",value:function(e){this.valueCallback=e}},{key:"updateValueAndNotify",value:function(){this.modCount++,this._currentValue=Object(nt.a)(Object(nt.a)({},this._currentValue),{},{modCounter:this.modCount}),this.valueCallback(this._currentValue)}},{key:"pageListUpdated",value:function(){this.updateValueAndNotify()}},{key:"getDefaultContextValue",value:function(){return{modCounter:this.modCount,pageManager:this.pageManager,analysisCache:this.analysisResultCache}}},{key:"Context",get:function(){return this.contextInstance}},{key:"currentValue",get:function(){return this._currentValue}}]),e}(),ft=null;function vt(){return null===ft&&(ft=new pt(window.sessionStorage)),ft}function bt(e){for(var t=new ArrayBuffer(2*e.length),a=new Uint16Array(t),r=e.length,n=0;n<r;n++)a[n]=e.charCodeAt(n);return t}function gt(e){var t=new Uint8Array(e),a=String.fromCharCode.apply(String,Object(m.a)(t));return btoa(a)}function mt(e){var t,a=function(e){var t=e.map((function(e){return"(".concat(e.level,",").concat(e.class.valueOf().toString(),")")}));return"[".concat(t.join(","),"]")}(e.changes);return"".concat(e.startClass.valueOf(),"/").concat(e.startLevel,"/").concat((t=e.startStats,"[".concat(t.map((function(e){return e.toString()})).join(","),"]")),"/").concat(e.endLevel,"/").concat(a)}function jt(e){return void 0===e?"{StrSpd:false,LckCha:false,MagDex:false,DefRes:false}":"{StrSpd:".concat(e.StrAndSpdUp.toString(),",LckCha:").concat(e.LckAndChaUp.toString(),",MagDex:").concat(e.MagAndDexUp.toString(),",DefRex:").concat(e.DefAndResUp.toString(),"}")}function xt(e,t,a){return yt.apply(this,arguments)}function yt(){return(yt=Object(g.a)(b.a.mark((function e(t,a,r){var n,i,s,o,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mt(a),i=jt(r),s="".concat(t,"|").concat(n,"|").concat(i),o=bt(s),e.next=6,window.crypto.subtle.digest("SHA-1",o);case 6:return c=e.sent,e.abrupt("return",gt(c));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(e){return JSON.stringify(e)}function wt(e,t,a){if(!Number.isInteger(e))return!1;return!(e<t)&&!(void 0!==a&&e>=a)}function kt(e){return"object"===typeof e&&(!(!("level"in e)||!wt(e.level,1))&&!(!("class"in e)||!wt(e.class,0,J.End)))}function St(e,t){for(var a=0;a<t.length-1;a++)if(t[a].level>t[a+1].level)return!1;return t.every((function(t){return function(e,t,a){var r=xe(t,e);return void 0!==r&&!(null!==r.characters&&!r.characters.has(t)||null!==r.gender&&r.gender!==Xe(t).gender)&&(void 0===a||r.level<=a)}(t.class,e,t.level)}))}function Ct(e){var t,a=null;try{a=JSON.parse(e)}catch(c){return{error:"Not valid JSON."}}if("object"!==typeof a)return{error:"Not a valid JSON string."};if(t=a,![{name:"character",check:function(e){return wt(e,0,r.End)}},{name:"startLevel",check:function(e){return wt(e,1)}},{name:"startClass",check:function(e){return wt(e,0,J.End)}},{name:"startStats",check:function(e){return Array.isArray(e)&&e.every((function(e){return wt(e,0)}))}},{name:"endLevel",check:function(e){return wt(e,0)}},{name:"maxStatMods",check:function(e){return function(e){return"object"===typeof e&&["StrAndSpdUp","LckAndChaUp","MagAndDexUp","DefAndResUp"].every((function(t){return t in e&&"boolean"===typeof e[t]}))}(e)}},{name:"changes",check:function(e){return Array.isArray(e)&&e.every(kt)}}].every((function(e){return e.name in t&&e.check(t[e.name])})))return{error:"The JSON does not match the schema for a character code."};var n,i,s,o=a;return n=o.character,Number.isInteger(n)&&n>=0&&n<r.End?(i=o.endLevel,s=o.startLevel,Number.isInteger(i)&&i>=s?function(e){if(!Array.isArray(e))return!1;var t=e;return 9===t.length&&!!t.every((function(e){return Number.isInteger(e)}))&&!!t.every((function(e){return e>=0}))}(o.startStats)?St(o.character,o.changes)?{result:a}:{error:"Out-of-order class changes or invalid level(s) for class change(s)."}:{error:"Invalid starting stats."}:{error:"The end level is lower than the start level."}):{error:"Not a valid character number."}}var Lt=[0,1,1,0,0,0,0,0,0];function Mt(e){var t=function(e){var t=P(e,(function(e){return 1-e}));return N((function(e){return t.map((function(t,a){return a===e?1:t})).reduce((function(e,t){return e*t}))}))}(e),a=function(e,t){return P(e,(function(e){return 1-e})).reduce((function(e,t){return e*t}))+e.map((function(e,a){return e*t[a]})).reduce((function(e,t){return e+t}))}(e,t);return N((function(r){return e[r]*(1-t[r])+Lt[r]*a}))}function At(e){return Math.abs(e)<=1e-4}var Et=function(){function e(t,a){if(Object(l.a)(this,e),this.offset=void 0,this.p=void 0,a<t)throw new RangeError("Expected maxValue to be at least minValue.");this.offset=t,this.p=new Array(a-t+1);for(var r=0,n=this.p.length;r<n;r++)this.p[r]=0}return Object(u.a)(e,[{key:"getProbability",value:function(e){var t=e-this.offset;if(t<0||t>this.p.length)throw new RangeError("Value "+e.toString()+" is out of bounds of this probability array.");return this.p[t]}},{key:"setProbability",value:function(e,t){var a=e-this.offset;if(a<0||a>this.p.length)throw new RangeError("Value "+e.toString()+" is out of bounds of this probability array.");this.p[a]=t}},{key:"addProbability",value:function(e,t){var a=e-this.offset;if(a<0||a>this.p.length)throw new RangeError("Value "+e.toString()+" is out of bounds of this probability array.");this.p[a]+=t}},{key:"clone",value:function(){for(var t=new e(this.minValue,this.maxValue),a=0,r=this.p.length;a<r;a++)t.setProbability(this.offset+a,this.p[a]);return t}},{key:"export",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Map,a=0,r=this.p.length;a<r;a++)t.set(this.offset+a+e,this.p[a]);return t}},{key:"normalize",value:function(){var e=0;if(this.p.forEach((function(t){e+=t})),!(Math.abs(1-e)<.01))throw new Error("Attempted normalization on a probability array where sum of probabilities was too unusual. Total P is "+e.toString());for(var t=1/e,a=0,r=this.p.length;a<r;a++)this.p[a]*=t}},{key:"clampProbability",value:function(t){var a=t-this.offset;if(a<=0)return this.clone();if(a>=this.width-1){var r=new e(t,t);return r.setProbability(t,1),r}for(var n=0,i=0;i<=a;i++)n+=this.p[i];var s=new e(t,this.maxValue);s.setProbability(t,n);for(var o=1,c=this.width-1-a;o<=c;o++)s.setProbability(t+o,this.p[a+o]);return s}},{key:"stepProbability",value:function(t,a){if(t<0||t>1)throw new RangeError("Invalid value for pStatUp: not a real probability. Value: "+t.toString());if(At(t))return this.clone();if(At(1-t)){for(var r=new e(this.minValue+1,this.maxValue+1),n=0,i=this.p.length;n<i;n++){var s=Math.min(this.offset+n+1,a);r.addProbability(s,this.p[n])}return r}for(var o=new e(this.minValue,this.maxValue+1),c=1-t,l=0,u=this.p.length;l<u;l++){var d=this.p[l],h=Math.min(this.offset+l,a),p=Math.min(this.offset+l+1,a);o.addProbability(h,d*c),o.addProbability(p,d*t)}return o}},{key:"minValue",get:function(){return this.offset}},{key:"maxValue",get:function(){return this.offset+this.p.length-1}},{key:"width",get:function(){return this.p.length}}]),e}();function Bt(e,t,a,r,n){if(e===r.length)n.addProbability(a,t);else{var i=r[e];Bt(e+1,t*(1-i),a,r,n),Bt(e+1,t*i,a+1,r,n)}}function Dt(e,t){var a=new Et(0,e.length);return Bt(0,1,0,e,a),a.normalize(),t&&(a=a.clampProbability(2)),a}function It(e,t){for(var a=Rt(e,t),r=.5*Array.from(a.values()).reduce((function(e,t){return e+t}),0),n=0,i=Array.from(a.keys()).sort((function(e,t){return e-t})),s=0;s<i.length;s++){var o=i[s],c=a.get(o),l=n+c;if(n<=r&&l>r)return{median:o,pLower:n,pHigher:l,pMedian:c};n+=c}}function Rt(e,t){switch(t){case 0:return e.hp;case 1:return e.str;case 2:return e.mag;case 3:return e.dex;case 4:return e.spd;case 5:return e.lck;case 6:return e.def;case 7:return e.res;case 8:return e.cha;case B:return e.levelupTotal;default:throw new RangeError("Unrecognized index ".concat(t," for retrieving distribution for specific stat."))}}function Pt(e,t,a,r,n){console.info("Growth rate adjustments for ".concat(w(e)," as ").concat(q(a),":")+"\n     raw: ".concat(z(r))+"\nadjusted: ".concat(z(n)))}function Nt(e,t){var a=Xe(e).isStudent,n=function(e){var t=Ve.get(e);if(void 0===t)throw new RangeError("Base growth rates not found for ".concat(r[e]));return t}(e),i=new Map,s=je(t.startClass),o=F(n,s),c=a?Mt(o):o;return Pt(e,0,t.startClass,o,c),i.set(t.startClass,{normal:o,adjusted:c}),t.changes.forEach((function(t){if(void 0===i.get(t.class)){var r=je(t.class),s=F(n,r),o=a?Mt(s):s;Pt(e,0,t.class,s,o),i.set(t.class,{normal:s,adjusted:o})}})),i}function Tt(e,t){if(0===e.length)return e;var a=Object(m.a)(e);return t.forEach((function(e){for(var t=ve(e).baseStats,r=0;r<t.length;r++)a[r]=a[r].clampProbability(t[r])})),a}function Gt(e,t,a){for(var r=new Array(e.length),n=0;n<t.length;n++)r[n]=e[n].stepProbability(t[n],a[n]);return r}var Vt=function(){function e(t,a,r){Object(l.a)(this,e),this.perLevel=void 0,this.profile=void 0,this.character=void 0,this.cachedLevels=void 0,this.cachedGrowthRates=void 0,this.isStudent=void 0,this.statMaximums=void 0,this.profile=a,this.character=t,this.perLevel=new Map,this.cachedLevels=function(e){for(var t=new Map,a=e.startLevel;a<=e.endLevel;a++)t.set(a,new Array);e.changes.forEach((function(e){var a=t.get(e.level);if(void 0===a)throw new Error("Error precomputing levelups: variable classChanges is undefined.");a.push(e.class)}));for(var r=new Array,n=e.startLevel;n<=e.endLevel;n++){var i=t.get(n);if(void 0===i)throw new Error("Error precomputing levelups: variable level is undefined.");r.push(i)}return r}(this.profile),this.cachedGrowthRates=Nt(this.character,this.profile),this.isStudent=Xe(t).isStudent,this.statMaximums=$e(t,r)}return Object(u.a)(e,[{key:"compute",value:function(){for(var e=new Array,t=tt(this.profile.startStats,this.profile.startClass),a=0;a<t.length;a++){var r=t[a],n=new Et(r,r);n.setProbability(r,1),e.push(n)}var i=function(e,t){var a=new Map;return e.forEach((function(e,r){void 0===a.get(r)&&a.set(r,Dt(e.normal,t))})),a}(this.cachedGrowthRates,this.isStudent),s=this.cachedLevels[0];e=Tt(e,s);var o=s.length>0?s[s.length-1]:this.profile.startClass,c=i.get(o);if(void 0===c)throw new RangeError("Cached table of levelup total stat distribution is missing entry for character class "+q(o));this.recordLevelResults(this.profile.startLevel,e,o,c);for(var l=this.profile.endLevel-this.profile.startLevel,u=1;u<=l;u++){var d=this.cachedGrowthRates.get(o);if(void 0===d)throw new RangeError("Cached growth rates missing entry for class "+q(o));var h=this.profile.startLevel+u,p=this.cachedLevels[u];e=Tt(Gt(e,d.adjusted,this.statMaximums),p),o=p.length>0?p[p.length-1]:o;var f=i.get(o);if(void 0===f)throw new RangeError("Cached table of levelup total stat distribution is missing entry for character class "+q(o));this.recordLevelResults(h,e,o,f)}}},{key:"getDistributions",value:function(){return this.perLevel}},{key:"recordLevelResults",value:function(e,t,a,r){var n=ve(a).bonusStats;this.perLevel.set(e,function(e,t,a){for(var r=new Array(9),n=0;n<9;n++)r[n]=e[n].clone(),r[n].normalize();return{hp:r[0].export(t[0]),str:r[1].export(t[1]),mag:r[2].export(t[2]),dex:r[3].export(t[3]),spd:r[4].export(t[4]),lck:r[5].export(t[5]),def:r[6].export(t[6]),res:r[7].export(t[7]),cha:r[8].export(t[8]),levelupTotal:a.export()}}(t,n,r))}}]),e}(),Ut=a(506),Wt=a(538),_t=a(273),Ft=a.n(_t);var Ht=a(533),zt=a(531),Jt=a(558),Kt=new Map;function Zt(e){var t=new Array,a=ye(e.character,e.level);a.has(e.value)||t.push(Object(n.jsx)("option",{disabled:!0,value:e.value.valueOf(),children:q(e.value)},e.value.valueOf()));for(var r=function(e){var r=e,i=[];(function(e){var t=ee.get(e);if(void 0===t)throw new RangeError("No class list found for category ".concat(Z[e]));return t})(r).forEach((function(e){a.has(e)&&i.push(Object(n.jsx)("option",{value:e.valueOf(),children:q(e)},e.valueOf()))})),i.length>0&&t.push(Object(n.jsx)("optgroup",{label:$(r),children:i},r))},i=0;i<Z.End;i++)r(i);var s=function(){var t=Object(g.a)(b.a.mark((function t(a,r){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=parseInt(a.target.value.toString()),null===e||void 0===e||e.onSelected(n);case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(zt.a,{children:[Object(n.jsx)(Ht.a,{htmlFor:"class-selector-field",children:"Class"}),Object(n.jsx)(Jt.a,Object(nt.a)(Object(nt.a)({},e.props),{},{native:!0,value:e.value,onChange:s,id:"class-selector-field",style:{minWidth:160},children:t}))]})})}!function(){for(var e=0;e<J.End.valueOf();e++){var t=e;Kt.set(t,q(t))}}();var Yt=a(536);function Qt(e){var t,a,r=null!==(t=e.minLevel)&&void 0!==t?t:1,i=null!==(a=e.maxLevel)&&void 0!==a?a:99;function s(t){var a=parseInt(t.target.value.toString());null===e||void 0===e||e.onSelected(a)}for(var o,c=[],l=r;l<=i;l++)c.push(Object(n.jsx)("option",{value:l,children:l.toString()},l));return void 0!==e.customText?"overhead"===(null!==(o=e.labelStyle)&&void 0!==o?o:"overhead")?Object(n.jsxs)(zt.a,{children:[Object(n.jsx)(Ht.a,{htmlFor:"level-selector-field",children:e.customText}),Object(n.jsx)(Jt.a,Object(nt.a)(Object(nt.a)({},e.props),{},{native:!0,value:e.value,onChange:s,id:"level-selector-field",children:c}))]}):Object(n.jsx)(zt.a,{children:Object(n.jsx)(Yt.a,{control:Object(n.jsx)(Jt.a,Object(nt.a)(Object(nt.a)({},e.props),{},{native:!0,value:e.value,onChange:s,id:"level-selector-field",style:{marginLeft:8},children:c})),label:e.customText,labelPlacement:"start"})}):Object(n.jsx)(zt.a,{children:Object(n.jsx)(Jt.a,Object(nt.a)(Object(nt.a)({},e.props),{},{native:!0,value:e.value,onChange:s,id:"level-selector-field",children:c}))})}function qt(e){var t,a,r,i=xe(e.character,e.selectedClass),s=Math.max(null!==(t=e.minLevel)&&void 0!==t?t:1,null!==(a=null===i||void 0===i?void 0:i.level)&&void 0!==a?a:1),o=null!==(r=e.maxLevel)&&void 0!==r?r:99,c=Object(nt.a)({},e.containerStyle);return Object(n.jsxs)("div",Object(nt.a)(Object(nt.a)({},e.containerProps),{},{style:c,children:[Object(n.jsx)(Zt,{value:e.selectedClass,character:e.character,onSelected:function(t){if(be(t)){var a,r=xe(e.character,t),n=null!==(a=null===r||void 0===r?void 0:r.level)&&void 0!==a?a:1;n>e.selectedLevel?e.onChanged(t,n):e.onChanged(t,e.selectedLevel)}else e.onChanged(t,e.selectedLevel)},props:e.classSelectorProps}),Object(n.jsx)(Qt,{minLevel:s,maxLevel:e.maxLevel,value:e.selectedLevel,onSelected:function(t){t<s?e.onChanged(e.selectedClass,s):t>o?e.onChanged(e.selectedClass,o):e.onChanged(e.selectedClass,t)},props:e.levelSelectorProps,customText:"Level",labelStyle:"overhead"})]}))}var Xt=a(566),$t=a(270),ea=a.n($t),ta=a(175),aa=a(537);function ra(e,t){return Object(nt.a)({marginLeft:4,marginRight:4,userSelect:"none"},t)}function na(e){return void 0!==e.provided&&void 0!==e.snapshot?Object(n.jsx)("div",Object(nt.a)(Object(nt.a)(Object(nt.a)({ref:e.provided.innerRef},e.provided.draggableProps),e.provided.dragHandleProps),{},{style:ra(e.snapshot.isDragging,e.provided.draggableProps.style),children:Object(n.jsx)(Xt.a,{icon:Object(n.jsx)(ea.a,{}),label:q(e.value),onDelete:function(){e.onDelete()},color:e.disabled?"default":"primary",clickable:!1,style:{cursor:"move"}})})):Object(n.jsx)("div",{style:ra(0,{}),children:Object(n.jsx)(Xt.a,{label:q(e.value),onDelete:function(){e.onDelete()},color:e.disabled?"default":"primary",clickable:!1})})}function ia(e,t,a,r,i,s){return e?Object(n.jsx)(na,{value:t,onDelete:r,provided:i,snapshot:s,disabled:!0},a):Object(n.jsx)(na,{value:t,onDelete:r,provided:i,snapshot:s},a)}var sa={backgroundColor:"transparent",display:"flex",flexDirection:"row",flexShrink:0,flexGrow:0,flexWrap:"nowrap",paddingTop:8,paddingBottom:8,paddingLeft:4,paddingRight:4,minHeight:32},oa={paddingTop:7,paddingBottom:7,borderTop:"1px solid #aaaaaa",borderBottom:"1px solid #aaaaaa"};function ca(e){return e?(console.log("over"),Object(nt.a)(Object(nt.a)({},sa),oa)):sa}function la(e){var t=function(t,a){var r=Object(m.a)(e.classes);r.splice(t,1),e.onDeleted(r)},a=[];a=e.classes.length<=1?e.classes.map((function(a,r){var n=r;return ia(e.disabled,a,r,(function(){t(n)}))})):e.classes.map((function(a,r){var i=r;return Object(n.jsx)(ta.b,{draggableId:i.toString(),index:i,children:function(n,s){return ia(e.disabled,a,r,(function(){return t(i)}),n,s)}},i)}));return e.classes.length<=1?Object(n.jsx)("div",{style:ca(!1),children:a}):Object(n.jsx)(ta.a,{onDragEnd:function(t,a){if(t.destination){var r=Object(m.a)(e.classes),n=t.source.index,i=t.destination.index,s=r[n];r.splice(n,1),r.splice(i,0,s),e.onReordered(r)}},children:Object(n.jsx)(ta.c,{droppableId:"classChangeRow",direction:"horizontal",children:function(e,t){return Object(n.jsx)(aa.a,{title:"Drag to re-order class changes.",children:Object(n.jsxs)("div",Object(nt.a)(Object(nt.a)({ref:e.innerRef,style:ca(t.isDraggingOver)},e.droppableProps),{},{children:[a,e.placeholder]}))})}})})}var ua={display:"flex",flexDirection:"row",flexBasis:0,justifyContent:"flex-start",alignItems:"flex-start",flexWrap:"wrap",paddingLeft:8,paddingRight:8},da={display:"flex",flexDirection:"row",flexBasis:0,alignItems:"center"},ha={flexShrink:0,flexGrow:0,minWidth:24,padding:4,textAlign:"right",alignContent:"baseline"};function pa(e){var t=[],a=Array.from(e.list.keys());a.sort((function(e,t){return e-t}));for(var r=function(){var a=s[i],r=a;t.push(Object(n.jsxs)("div",{style:da,children:[Object(n.jsx)(Ut.a,{style:ha,children:r.toString()}),Object(n.jsx)(la,{classes:e.list.get(a),onReordered:function(t){return function(t,a){var r=new Map(e.list.entries());r.set(t,a),e.onReordered(r)}(r,t)},onDeleted:function(t){return function(t,a){var r=new Map(e.list.entries());a.length>0?r.set(t,a):r.delete(t),e.onReordered(r)}(r,t)},disabled:r<e.minLevel})]},r))},i=0,s=a;i<s.length;i++)r();return t.length>0?Object(n.jsx)("div",{style:ua,children:t}):Object(n.jsx)("div",{style:ua,children:Object(n.jsx)(Xt.a,{style:{textAlign:"left",margin:8,userSelect:"none"},label:"No class changes",disabled:!0})})}var fa={marginTop:8,marginLeft:16,display:"flex",flexDirection:"row",flexBasis:0,flexWrap:"nowrap"},va={marginRight:8,display:"flex",flexGrow:0,flexShrink:0,alignSelf:"flex-end"},ba={display:"flex",flexGrow:0,flexShrink:0,alignSelf:"flex-end"};function ga(e){if(!ye(e.character).has(e.selectedClass))throw new RangeError("Character ".concat(w(e.character)," isn't eligible for selected class ").concat(q(e.selectedClass)));var t=xe(e.character,e.selectedClass);if(void 0===t)throw new RangeError("Got undefined class requirements for a known eligible class.");if(t.level>e.selectedLevel)throw new RangeError("Selected level ".concat(e.selectedLevel," is below minimum level for class, ").concat(t.level));return Object(n.jsxs)("div",{style:fa,children:[Object(n.jsx)(qt,{selectedClass:e.selectedClass,selectedLevel:e.selectedLevel,character:e.character,minLevel:e.minLevel,containerStyle:va,onChanged:function(t,a){e.onSelectionChanged(t,a)}}),Object(n.jsx)("div",{style:ba,children:Object(n.jsx)(Wt.a,{id:"class-change-add-button",variant:"outlined",color:"primary",onClick:function(t){e.onAddButtonClicked(e.selectedClass,e.selectedLevel)},children:"Add"})})]})}var ma={};function ja(e){var t=Object(i.useState)(function(e){var t=Array.from(ye(e)).filter((function(e){return be(e)})).sort((function(e,t){return e-t}));if(0===t.length)throw new Error("No viable classes for selected character ".concat(e));var a=t[0],r=xe(e,a);if(void 0===r)throw new RangeError("Got undefined class requirements for a known eligible class.");return{addWidgetClass:a,addWidgetLevel:r.level}}(e.character)),a=Object(A.a)(t,2),r=a[0],s=a[1],o=!1,c=ye(e.character),l=r.addWidgetClass;if(!c.has(l)){var u=Array.from(c);if(0===u.length)throw new Error("No eligible classes are selectable for the given character. This is usually an incomplete data error.");u.sort((function(e,t){return e-t})),l=u[0],o=!0}var d=r.addWidgetLevel,h=xe(e.character,l);if(void 0===h)throw new RangeError("Got undefined class requirements for a known eligible class.");var p=h.level;(d<p||d<e.minLevel)&&(d=Math.max(p,e.minLevel),o=!0),o&&s({addWidgetClass:l,addWidgetLevel:d});var f=function(){var e=Object(g.a)(b.a.mark((function e(t,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({addWidgetClass:t,addWidgetLevel:a});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var t=Object(g.a)(b.a.mark((function t(a,r){var n,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=new Map(e.classChangeList.entries())).has(r)?null===(i=n.get(r))||void 0===i||i.push(a):n.set(r,[a]),e.onClassChangeListChange(n);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),m=function(){var t=Object(g.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.onClassChangeListChange(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{style:ma,children:[Object(n.jsx)(pa,{list:e.classChangeList,minLevel:e.minLevel,onReordered:m}),Object(n.jsx)(ga,{character:e.character,minLevel:e.minLevel,selectedClass:l,selectedLevel:d,onSelectionChanged:f,onAddButtonClicked:v})]})}var xa=a(534),ya=new Map;function Oa(e){for(var t=new Array,a=function(a){var r=a,i=[];(function(e){var t=M.get(e);if(void 0===t)throw new RangeError("No character mappings for faction ".concat(x[e]));return t})(r).forEach((function(t){(void 0===e.availableCharacters||e.availableCharacters.has(t))&&i.push(Object(n.jsx)("option",{value:t.valueOf(),children:w(t)},t.valueOf()))})),i.length>0&&t.push(Object(n.jsx)("optgroup",{label:C(r),children:i},r))},r=0;r<x.End;r++)a(r);var i=function(){var t=Object(g.a)(b.a.mark((function t(a,r){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=parseInt(a.target.value.toString()),null===e||void 0===e||e.onSelected(n);case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{style:e.containerStyle,children:Object(n.jsxs)(zt.a,{children:[Object(n.jsx)(Ht.a,{htmlFor:"character-selector-field",children:"Character"}),Object(n.jsx)(Jt.a,{native:!0,value:e.value,onChange:i,children:t})]})})}!function(){for(var e=0;e<r.End.valueOf();e++){var t=e;ya.set(t,w(t))}}();var wa=a(542),ka=a(563),Sa=a(541),Ca=a(540),La=a(539);function Ma(e,t){return void 0!==t.title?"".concat(t.title," (lvl ").concat(t.level," ").concat(q(t.class),")"):"lvl ".concat(t.level," ").concat(q(t.class))}var Aa,Ea=function(){function e(){Object(l.a)(this,e),this.presetLookup=void 0,this.presetLookup=function(){for(var e=new Map,t=function(t){var a=t,r=et(a).map((function(e,t){return{index:t,displayName:Ma(0,e),stats:{character:a,class:e.class,level:e.level,stats:e.stats}}}));r.length>0&&e.set(a,r)},a=0;a<r.End;a++)t(a);return e}()}return Object(u.a)(e,[{key:"getCharacterList",value:function(){return new Set(this.presetLookup.keys())}},{key:"getPresetsForCharacter",value:function(e){var t=this.presetLookup.get(e);return void 0===t?[]:t}}]),e}();function Ba(){return void 0===Aa&&(Aa=new Ea),Aa}var Da=a(220);function Ia(e){var t=e.availablePresets.map((function(e){return Object(n.jsx)("option",{value:e.index,children:e.displayName},e.index)}));return Object(n.jsxs)(zt.a,{style:{marginTop:16,marginBottom:16},children:[Object(n.jsx)(Ht.a,{htmlFor:"character-selector-field",children:"Preset"}),Object(n.jsx)(Jt.a,{native:!0,value:e.selectedIndex,onChange:function(t,a){var r=parseInt(t.target.value.toString());e.onSelected(r)},children:t})]})}var Ra={display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",marginTop:8,marginBottom:8},Pa={flexBasis:"auto",flexGrow:0,flexShrink:0,marginRight:12,marginTop:8,marginBottom:8,minWidth:32},Na={},Ta={fontWeight:"bold",opacity:.8};function Ga(e){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{style:Ra,children:[Object(n.jsxs)("div",{style:Pa,children:[Object(n.jsx)(Da.a,{variant:"body1",style:Na,children:"Level"}),Object(n.jsx)(Da.a,{variant:"body1",style:Ta,children:e.value.level})]}),Object(n.jsxs)("div",{style:Pa,children:[Object(n.jsx)(Da.a,{variant:"body1",style:Na,children:"Class"}),Object(n.jsx)(Da.a,{variant:"body1",style:Ta,children:q(e.value.class)})]})]}),Object(n.jsx)("div",{style:Ra,children:N((function(t){var a=R(t);return Object(n.jsxs)("div",{style:Pa,children:[Object(n.jsx)(Da.a,{variant:"body1",style:Na,children:a}),Object(n.jsx)(Da.a,{variant:"body1",style:Ta,children:e.value.stats[t]})]},"preset_stat_".concat(R(t)))}))})]})}var Va=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={selectedCharacter:e.defaultCharacter,selectedPresetIndex:0},r}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.defaultCharacter!==this.props.defaultCharacter&&this.setState({selectedCharacter:this.props.defaultCharacter,selectedPresetIndex:0})}},{key:"render",value:function(){var e=this,t=Ba(),a=t.getPresetsForCharacter(this.state.selectedCharacter),r=function(e,t){var a=Ba();return a.getPresetsForCharacter(e).length>t?a.getPresetsForCharacter(e)[t].stats:void 0}(this.state.selectedCharacter,this.state.selectedPresetIndex),i=void 0===r?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Da.a,{variant:"body1",style:{marginTop:16},children:"No available presets."})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ia,{selectedIndex:this.state.selectedPresetIndex,onSelected:function(t){return a=t,void e.setState({selectedCharacter:e.state.selectedCharacter,selectedPresetIndex:a});var a},availablePresets:a}),Object(n.jsx)(Ga,{value:r})]}),s=t.getCharacterList();return s.has(this.state.selectedCharacter)||s.add(this.state.selectedCharacter),Object(n.jsxs)(ka.a,{open:this.props.open,onClose:function(){return e.props.onCancelled()},children:[Object(n.jsx)(La.a,{children:"Common Starting Stats"}),Object(n.jsxs)(Ca.a,{children:[Object(n.jsx)(Oa,{value:this.state.selectedCharacter,onSelected:function(t){return a=t,void e.setState({selectedCharacter:a,selectedPresetIndex:0});var a},availableCharacters:s}),i]}),Object(n.jsxs)(Sa.a,{children:[Object(n.jsx)(Wt.a,{onClick:function(){return e.props.onCancelled()},color:"default",children:"Cancel"}),Object(n.jsx)(Wt.a,{onClick:function(){void 0!==r&&e.props.onSelected(r)},color:"primary",disabled:void 0===r,children:"Load Stats"})]})]})}}]),a}(i.Component),Ua=["Hp","Str","Mag","Dex","Spd","Lck","Def","Res","Cha"];function Wa(e){var t=[],a=Object(nt.a)({},e.containerStyle);return function(e,t){for(var a=0;a<9;a++)t(e[a],a)}(e.value,(function(a,r){var i=r,s="".concat(Ua[r],"-input");t.push(Object(n.jsx)("div",{style:e.elementStyle,children:Object(n.jsxs)(zt.a,{children:[Object(n.jsx)(Ht.a,{htmlFor:s,children:Ua[r]}),Object(n.jsx)(xa.a,{id:s,type:"number",value:a,inputProps:{min:e.minimums[r],max:e.maximums[r]},onChange:function(t){!function(t,a){var r=Object(m.a)(e.value);r[t]=a,e.onChanged(r)}(i,parseInt(t.target.value))}})]})},r))})),Object(n.jsx)("div",{style:a,children:t})}function _a(e,t,a,r,n){var i={character:e,class:t,level:a,stats:r},s=ye(i.character);if(!s.has(i.class)){if(0===s.size)throw new Error("Character has no valid classes. This is a data error.");var o,c=Object(K.a)(s);try{for(c.s();!(o=c.n()).done;){var l=o.value;i.class=l;break}}catch(b){c.e(b)}finally{c.f()}}var u=xe(e,i.class);if(void 0===u)throw new RangeError("Used ineligible class in initial stats reconciliation.");var d=u.level;i.level<d&&(i.level=d);var h,p,f=ve(i.class).baseStats,v=$e(e,n);return i.stats=(h=f,p=i.stats,W(h,p,(function(e,t){return Math.max(e,t)}))),i.stats=function(e,t){return W(e,t,(function(e,t){return Math.min(e,t)}))}(v,i.stats),i}var Fa={display:"flex",flexDirection:"row",flexBasis:0,flexWrap:"nowrap",alignItems:"stretch",padding:8},Ha={display:"flex",flexDirection:"column",flexBasis:"auto",flexWrap:"nowrap",flexGrow:1,flexShrink:1,marginLeft:8},za={display:"flex",flexGrow:0,flexShrink:0,flexDirection:"column",alignItems:"flex-start",alignContent:"flex-start",justifyContent:"stretch"},Ja={display:"flex",flexDirection:"row",flexBasis:0,flexGrow:1,flexShrink:0,width:"100%"},Ka={display:"block",flexGrow:0,flexShrink:0},Za={display:"block",flexGrow:0,flexShrink:0},Ya={display:"flex",flexGrow:1,flexShrink:0,flexDirection:"row",justifyContent:"flex-end"},Qa={display:"flex",flexGrow:0,flexShrink:0,flexDirection:"row",flexBasis:0,flexWrap:"wrap",justifyContent:"flex-start"},qa={display:"flex",flexGrow:0,flexShrink:0};function Xa(e){var t=s.a.useState(!1),a=Object(A.a)(t,2),r=a[0],i=a[1],o=1,c=V(),l=V();if(be(e.class)){var u=ve(e.class);l=u.bonusStats,c=_(u.baseStats,u.bonusStats)}var d=xe(e.character,e.class);void 0!==d&&(o=d.level);var h=_($e(e.character,e.maxStatMods),l),p=Object(n.jsx)(Va,{open:r,defaultCharacter:e.character,onCancelled:function(){i(!1)},onSelected:function(t){i(!1),e.handler(_a(t.character,t.class,t.level,t.stats,e.maxStatMods))}});return Object(n.jsx)("div",{style:Fa,children:Object(n.jsxs)("div",{style:Ha,children:[Object(n.jsxs)("div",{style:za,children:[Object(n.jsx)(Ut.a,{style:{textAlign:"left",marginBottom:8},children:"Initial Stats"}),Object(n.jsxs)(wa.a,{style:Object(nt.a)(Object(nt.a)({},Ja),{},{marginBottom:8}),children:[Object(n.jsx)(Oa,{value:e.character,onSelected:function(t){e.handler(_a(t,e.class,e.level,e.stats,e.maxStatMods))},containerStyle:Ka,availableCharacters:at()}),Object(n.jsx)(qt,{selectedClass:e.class,selectedLevel:e.level,character:e.character,minLevel:o,maxLevel:99,onChanged:function(t,a){e.handler(_a(e.character,t,a,e.stats,e.maxStatMods))},containerStyle:Za}),Object(n.jsx)("div",{style:Ya,children:Object(n.jsxs)(zt.a,{children:[Object(n.jsx)(Ut.a,{children:"\xa0"}),Object(n.jsx)(aa.a,{title:"Look up and use well-known stats for the character, such as their level 1 stats, or stats when you recruit them at a specific chapter.",children:Object(n.jsx)(Wt.a,{variant:"outlined",color:"primary",onClick:function(){i(!0)},style:{marginTop:-4,flexGrow:0,flexShrink:0},children:"Look Up Stats"})})]})})]})]}),p,Object(n.jsx)("div",{style:za,children:Object(n.jsx)(Wa,{value:e.stats,minimums:c,maximums:h,onChanged:function(t){e.handler(_a(e.character,e.class,e.level,t,e.maxStatMods))},containerStyle:Qa,elementStyle:qa})})]})})}var $a=a(560),er={display:"flex",flexDirection:"column",alignItems:"flex-start",alignContent:"flex-start"};function tr(e){var t=function(t,a,r,n){var i=Object(nt.a)({},e.status);void 0!==t&&(i.StrAndSpdUp=t),void 0!==a&&(i.LckAndChaUp=a),void 0!==r&&(i.MagAndDexUp=r),void 0!==n&&(i.DefAndResUp=n),e.onChanged(i)};return Object(n.jsx)("div",{style:Object(nt.a)(Object(nt.a)({},er),e.containerStyle),children:Object(n.jsxs)(wa.a,{row:!0,children:[Object(n.jsx)(aa.a,{title:"Statue of Saint Cichol remodeling bonus",children:Object(n.jsx)(Yt.a,{control:Object(n.jsx)($a.a,{checked:e.status.StrAndSpdUp,onChange:function(e){return t(e.target.checked,void 0,void 0,void 0)},name:"Cichol",color:"primary"}),label:"+5 max Str & Spd",style:{userSelect:"none"}})}),Object(n.jsx)(aa.a,{title:"Statue of Saint Cethleann remodeling bonus",children:Object(n.jsx)(Yt.a,{control:Object(n.jsx)($a.a,{checked:e.status.LckAndChaUp,onChange:function(e){return t(void 0,e.target.checked,void 0,void 0)},name:"Cethleann",color:"primary"}),label:"+5 max Lck & Cha",style:{userSelect:"none"}})}),Object(n.jsx)(aa.a,{title:"Statue of Saint Macuil remodeling bonus",children:Object(n.jsx)(Yt.a,{control:Object(n.jsx)($a.a,{checked:e.status.MagAndDexUp,onChange:function(e){return t(void 0,void 0,e.target.checked,void 0)},name:"Macuil",color:"primary"}),label:"+5 max Mag & Dex",style:{userSelect:"none"}})}),Object(n.jsx)(aa.a,{title:"Statue of Saint Indech remodeling bonus",children:Object(n.jsx)(Yt.a,{control:Object(n.jsx)($a.a,{checked:e.status.DefAndResUp,onChange:function(e){return t(void 0,void 0,void 0,e.target.checked)},name:"Indech",color:"primary"}),label:"+5 max Def & Res",style:{userSelect:"none"}})})]})})}var ar=a.p+"static/media/bylethmale_1.dcbce08e.png",rr=a.p+"static/media/bylethmale_2.5da0cd23.png",nr=a.p+"static/media/bylethfemale_1.b3dc503c.png",ir=a.p+"static/media/bylethfemale_2.65bf08cd.png",sr=a.p+"static/media/edelgard_1.26fb14c9.png",or=a.p+"static/media/edelgard_2.2decafcd.png",cr=a.p+"static/media/hubert_1.9893f7cb.png",lr=a.p+"static/media/hubert_2.24696f37.png",ur=a.p+"static/media/dorothea_1.352f3ff9.png",dr=a.p+"static/media/dorothea_2.e5489f82.png",hr=a.p+"static/media/ferdinand_1.e01d4ba9.png",pr=a.p+"static/media/ferdinand_2.c7c3faf7.png",fr=a.p+"static/media/bernadetta_1.ddf72e60.png",vr=a.p+"static/media/bernadetta_2.10f143c3.png",br=a.p+"static/media/caspar_1.93657d32.png",gr=a.p+"static/media/caspar_2.28e64f72.png",mr=a.p+"static/media/petra_1.e3cbabac.png",jr=a.p+"static/media/petra_2.c19d7269.png",xr=a.p+"static/media/linhardt_1.69aeaf85.png",yr=a.p+"static/media/linhardt_2.fb420237.png",Or=a.p+"static/media/dimitri_1.907277ab.png",wr=a.p+"static/media/dimitri_2.e2bcb3c7.png",kr=a.p+"static/media/dedue_1.e8c7a0f8.png",Sr=a.p+"static/media/dedue_2.b7d7355d.png",Cr=a.p+"static/media/felix_1.e12a41a1.png",Lr=a.p+"static/media/felix_2.65a4d1f4.png",Mr=a.p+"static/media/mercedes_1.709dd8b7.png",Ar=a.p+"static/media/mercedes_2.bc01280d.png",Er=a.p+"static/media/ashe_1.fca8630b.png",Br=a.p+"static/media/ashe_2.d20edd16.png",Dr=a.p+"static/media/annette_1.d3ba9d78.png",Ir=a.p+"static/media/annette_2.da8a9b4a.png",Rr=a.p+"static/media/sylvain_1.f3b46f75.png",Pr=a.p+"static/media/sylvain_2.89ab047e.png",Nr=a.p+"static/media/ingrid_1.95bc8e73.png",Tr=a.p+"static/media/ingrid_2.7c022ae4.png",Gr=a.p+"static/media/claude_1.4b3e024c.png",Vr=a.p+"static/media/claude_2.df1f23e8.png",Ur=a.p+"static/media/lorenz_1.f484a3aa.png",Wr=a.p+"static/media/lorenz_2.222990e5.png",_r=a.p+"static/media/hilda_1.bb26c611.png",Fr=a.p+"static/media/hilda_2.379c72e2.png",Hr=a.p+"static/media/raphael_1.8747c879.png",zr=a.p+"static/media/raphael_2.6d6dada6.png",Jr=a.p+"static/media/lysithea_1.6b24a6ef.png",Kr=a.p+"static/media/lysithea_2.320cc103.png",Zr=a.p+"static/media/ignatz_1.2e0562da.png",Yr=a.p+"static/media/ignatz_2.b275e8de.png",Qr=a.p+"static/media/marianne_1.1ea600fd.png",qr=a.p+"static/media/marianne_2.15831648.png",Xr=a.p+"static/media/leonie_1.9910f22f.png",$r=a.p+"static/media/leonie_2.c962826c.png",en=a.p+"static/media/manuela_1.053891f6.png",tn=a.p+"static/media/hanneman_1.02c3f41e.png",an=a.p+"static/media/seteth_1.7bdc9131.png",rn=a.p+"static/media/flayn_1.bce536a4.png",nn=a.p+"static/media/cyril_1.c43556db.png",sn=a.p+"static/media/cyril_2.e825af61.png",on=a.p+"static/media/catherine_1.3fbec75f.png",cn=a.p+"static/media/alois_1.f5e800a6.png",ln=a.p+"static/media/gilbert_1.a4257950.png",un=a.p+"static/media/shamir_1.19abf07a.png",dn=a.p+"static/media/yuri_1.45c218f6.png",hn=a.p+"static/media/yuri_2.8e6fa80a.png",pn=a.p+"static/media/balthus_1.ae180c53.png",fn=a.p+"static/media/balthus_2.da597aed.png",vn=a.p+"static/media/constance_1.a471a139.png",bn=a.p+"static/media/constance_2.7f4e17b9.png",gn=a.p+"static/media/hapi_1.6fcb97c1.png",mn=a.p+"static/media/hapi_2.f0cc7395.png",jn=a.p+"static/media/jeritza_1.001e5681.png",xn=a.p+"static/media/anna_1.6172a297.png",yn=new Map;function On(e){var t=yn.get(e.character);if(void 0===t){var a=Object(nt.a)({display:"block",color:"white",width:e.width,height:e.height,backgroundColor:"#aaaaaa",fontSize:(.5*e.height).toFixed(0)+"px",lineHeight:e.height+"px",textAlign:"center",verticalAlign:"middle"},e.style);return Object(n.jsx)("div",{style:a,children:"?"})}var r,i=Object(nt.a)({display:"block",width:e.width,height:e.height,backgroundColor:"transparent",objectFit:"contain"},e.style);return e.timeskip?Object(n.jsx)("img",{src:null!==(r=t.postSkip)&&void 0!==r?r:t.preSkip,style:i,alt:e.character.toString()+" Thumbnail"}):Object(n.jsx)("img",{src:t.preSkip,style:i,alt:e.character.toString()+" Thumbnail"})}yn.set(r.BylethMale,{preSkip:ar,postSkip:rr}),yn.set(r.BylethFemale,{preSkip:nr,postSkip:ir}),yn.set(r.Edelgard,{preSkip:sr,postSkip:or}),yn.set(r.Hubert,{preSkip:cr,postSkip:lr}),yn.set(r.Dorothea,{preSkip:ur,postSkip:dr}),yn.set(r.Ferdinand,{preSkip:hr,postSkip:pr}),yn.set(r.Bernadetta,{preSkip:fr,postSkip:vr}),yn.set(r.Caspar,{preSkip:br,postSkip:gr}),yn.set(r.Petra,{preSkip:mr,postSkip:jr}),yn.set(r.Linhardt,{preSkip:xr,postSkip:yr}),yn.set(r.Dimitri,{preSkip:Or,postSkip:wr}),yn.set(r.Dedue,{preSkip:kr,postSkip:Sr}),yn.set(r.Felix,{preSkip:Cr,postSkip:Lr}),yn.set(r.Mercedes,{preSkip:Mr,postSkip:Ar}),yn.set(r.Ashe,{preSkip:Er,postSkip:Br}),yn.set(r.Annette,{preSkip:Dr,postSkip:Ir}),yn.set(r.Sylvain,{preSkip:Rr,postSkip:Pr}),yn.set(r.Ingrid,{preSkip:Nr,postSkip:Tr}),yn.set(r.Claude,{preSkip:Gr,postSkip:Vr}),yn.set(r.Lorenz,{preSkip:Ur,postSkip:Wr}),yn.set(r.Hilda,{preSkip:_r,postSkip:Fr}),yn.set(r.Raphael,{preSkip:Hr,postSkip:zr}),yn.set(r.Lysithea,{preSkip:Jr,postSkip:Kr}),yn.set(r.Ignatz,{preSkip:Zr,postSkip:Yr}),yn.set(r.Marianne,{preSkip:Qr,postSkip:qr}),yn.set(r.Leonie,{preSkip:Xr,postSkip:$r}),yn.set(r.Manuela,{preSkip:en}),yn.set(r.Hanneman,{preSkip:tn}),yn.set(r.Seteth,{preSkip:an}),yn.set(r.Flayn,{preSkip:rn}),yn.set(r.Cyril,{preSkip:nn,postSkip:sn}),yn.set(r.Catherine,{preSkip:on}),yn.set(r.Alois,{preSkip:cn}),yn.set(r.Gilbert,{preSkip:ln}),yn.set(r.Shamir,{preSkip:un}),yn.set(r.Yuri,{preSkip:dn,postSkip:hn}),yn.set(r.Balthus,{preSkip:pn,postSkip:fn}),yn.set(r.Constance,{preSkip:vn,postSkip:bn}),yn.set(r.Hapi,{preSkip:gn,postSkip:mn}),yn.set(r.Jeritza,{preSkip:jn}),yn.set(r.Anna,{preSkip:xn});var wn=a(543),kn=a(544),Sn=a(564);function Cn(e){var t=Object(i.useState)(!1),a=Object(A.a)(t,2),r=a[0],s=a[1],o=e.open?Ot(e.profile):"",c=function(){var t=Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.clipboard.writeText(Ot(e.profile));case 2:s(!0);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s(!1),e.onClose();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)(ka.a,{open:e.open,onClose:l,children:[Object(n.jsx)(La.a,{children:"Export Character Code"}),Object(n.jsxs)(Ca.a,{children:[Object(n.jsx)(Sn.a,{multiline:!0,label:"Character Code",variant:"filled",value:o,rowsMax:6,style:{minWidth:500,marginBottom:4}}),Object(n.jsx)(Wt.a,{variant:"contained",color:"primary",onClick:c,children:"Copy to Clipboard"}),r?Object(n.jsx)(Wt.a,{variant:"text",disabled:!0,style:{color:"#222222"},children:"Copied!"}):null]}),Object(n.jsx)(Sa.a,{children:Object(n.jsx)(Wt.a,{onClick:l,color:"default",children:"Close"})})]})}function Ln(e){var t=Object(i.useState)(""),a=Object(A.a)(t,2),r=a[0],s=a[1],o=function(){var t=Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.onCancelled();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=Ct(r),l=function(){var t=Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s(""),e.onProfileLoaded(c.result);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)(ka.a,{open:e.open,onClose:o,children:[Object(n.jsx)(La.a,{children:"Import Character Code"}),Object(n.jsx)(Ca.a,{children:Object(n.jsx)(Sn.a,{multiline:!0,label:"Character Code",variant:"filled",value:r,rowsMax:6,style:{minWidth:500,marginBottom:4},onChange:function(e){return s(e.target.value)},error:r.trim().length>0&&void 0!==c.error,helperText:r.trim().length>0?c.error:void 0})}),Object(n.jsxs)(Sa.a,{children:[Object(n.jsx)(Wt.a,{onClick:o,color:"default",children:"Cancel"}),Object(n.jsx)(Wt.a,{onClick:l,color:"primary",disabled:void 0!==c.error,children:"Import"})]})]})}function Mn(e){return e.changes.filter((function(t){return t.level>=e.startLevel&&t.level<=e.endLevel}))}function An(e){var t=Mn(e),a={startLevel:e.startLevel,startClass:e.startClass,startStats:Object(m.a)(e.startStats),changes:t,endLevel:e.endLevel};if(!function(e){if(e.startLevel>e.endLevel)return!1;for(var t=0;t<e.changes.length;t++){if(e.changes[t].level<e.startLevel||e.changes[t].level>e.endLevel)return!1;if(t>0&&e.changes[t].level<e.changes[t-1].level)return!1}return!0}(a))throw new Error("Class changes are out of order in character profile.");return a}var En={margin:8},Bn={maxWidth:1e3,display:"flex",flexBasis:"auto",flexWrap:"nowrap",flexDirection:"row",alignItems:"flex-start",alignContent:"flex-start"},Dn={display:"block",flexBasis:"auto",flexGrow:0,flexShrink:0},In={display:"flex",flexDirection:"column",flexBasis:"auto",flexShrink:0,flexGrow:1,alignItems:"flex-start",alignContent:"baseline"},Rn={display:"block",flexGrow:0,flexShrink:0},Pn={display:"flex",flexDirection:"column",alignItems:"flex-start",alignContent:"flex-start",flexBasis:0,marginTop:16,marginRight:16,marginLeft:16},Nn={display:"flex",flexDirection:"column",flexBasis:0,flexGrow:0,flexShrink:0,alignItems:"flex-start",alignContent:"flex-start",paddingTop:8},Tn={display:"flex",flexDirection:"column",flexBasis:"auto",flexShrink:0,flexGrow:0,marginTop:8},Gn={display:"flex",flexDirection:"row",justifyContent:"space-between",flexBasis:"auto",flexShrink:1,flexGrow:1,marginTop:4};function Vn(e){var t,a=new Map,r=Object(K.a)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,i=a.get(n.level);void 0!==i?i.push(n.class):a.set(n.level,[n.class])}}catch(s){r.e(s)}finally{r.f()}return a}function Un(e,t,a){var r=Math.max(e.level,a);return t.length>0&&(r=Math.max(r,t[t.length-1].level)),r}function Wn(e){var t=Object(i.useState)(!1),a=Object(A.a)(t,2),r=a[0],s=a[1],o=Object(i.useState)(!1),c=Object(A.a)(o,2),l=c[0],u=c[1],d=e.showDeleteButton?Object(n.jsx)("div",{style:Dn,children:Object(n.jsx)(Wt.a,{color:"secondary",disableElevation:!0,onClick:function(){return e.onDeleteClicked()},children:Object(n.jsx)(Ft.a,{})})}):null,h=e.profile.startLevel>=20;return Object(n.jsx)(wn.a,{style:En,variant:"outlined",children:Object(n.jsx)(kn.a,{children:Object(n.jsxs)("div",{style:Bn,children:[Object(n.jsxs)("div",{style:Tn,children:[Object(n.jsx)(On,{character:e.profile.character,width:128,height:128,style:Rn,timeskip:h}),Object(n.jsxs)("div",{style:Gn,children:[Object(n.jsx)(Wt.a,{size:"small",onClick:function(){return u(!0)},children:"Import"}),Object(n.jsx)(Wt.a,{size:"small",onClick:function(){return s(!0)},children:"Export"})]}),Object(n.jsx)(Cn,{open:r,profile:e.profile,onClose:function(){return s(!1)}}),Object(n.jsx)(Ln,{open:l,onCancelled:function(){return u(!1)},onProfileLoaded:function(t){u(!1),e.onProfileChange(t)}})]}),Object(n.jsxs)("div",{style:In,children:[Object(n.jsx)(Xa,{character:e.profile.character,class:e.profile.startClass,level:e.profile.startLevel,stats:e.profile.startStats,maxStatMods:e.profile.maxStatMods,handler:function(t){var a=function(e,t){var a=ye(e.character);return t.filter((function(e){return a.has(e.class)}))}(t,e.profile.changes),r=Un(t,a,e.profile.endLevel);e.onProfileChange(Object(nt.a)(Object(nt.a)({},e.profile),{},{character:t.character,startLevel:t.level,startClass:t.class,startStats:Object(m.a)(t.stats),changes:a,endLevel:r}))}}),Object(n.jsxs)("div",{style:Pn,children:[Object(n.jsx)(Ut.a,{children:"Analysis Settings"}),Object(n.jsx)(Qt,{minLevel:e.profile.startLevel,customText:"Target level: ",labelStyle:"inline",value:e.profile.endLevel,onSelected:function(t){e.onProfileChange(Object(nt.a)(Object(nt.a)({},e.profile),{},{endLevel:t}))}})]}),Object(n.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",flexDirection:"column",marginTop:8,marginLeft:16},children:[Object(n.jsx)(Ut.a,{style:{marginBottom:8},children:"Class Changes"}),Object(n.jsx)(ja,{character:e.profile.character,classChangeList:Vn(e.profile.changes),minLevel:e.profile.startLevel,onClassChangeListChange:function(t){var a,r,n=function(e){var t=[],a=Array.from(e.keys());a.sort((function(e,t){return e-t}));for(var r=0,n=a;r<n.length;r++){var i,s=n[r],o=Object(K.a)(e.get(s));try{for(o.s();!(i=o.n()).done;){var c=i.value;t.push({level:s,class:c})}}catch(l){o.e(l)}finally{o.f()}}return t}(t),i=Un((a=e.profile.character,r=e.profile,{character:a,class:r.startClass,level:r.startLevel,stats:Object(m.a)(r.startStats)}),n,e.profile.endLevel);e.onProfileChange(Object(nt.a)(Object(nt.a)({},e.profile),{},{changes:n,endLevel:i}))}})]}),Object(n.jsxs)("div",{style:Pn,children:[Object(n.jsx)(Ut.a,{children:"Other Settings"}),Object(n.jsx)("div",{style:Nn,children:Object(n.jsx)(tr,{status:e.profile.maxStatMods,onChanged:function(t){e.onProfileChange(Object(nt.a)(Object(nt.a)({},e.profile),{},{maxStatMods:t}))},containerStyle:{marginLeft:16}})})]})]}),d]})})})}var _n=a(170),Fn=a.n(_n),Hn=a(274),zn=a(280),Jn=a(548),Kn=a(549),Zn=a(550),Yn=a(289),Qn=a(290),qn=a(133),Xn=a(131),$n=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).name="EmptyDataSeriesError",r}return a}(Object(it.a)(Error)),ei=function(e,t){return Math.min(e,t)},ti=function(e,t){return Math.min(e,t)};function ai(e,t){return Array.from(e.keys()).reduce(t)}function ri(e,t){return"".concat((100*e).toFixed(t),"%")}var ni=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).containerRef=void 0,r.containerRef=s.a.createRef(),r}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a=this,r=function(e){var t,a;if(e.dataSeries.some((function(e){return 0===e.probabilityValues.size})))throw new $n("At least one of the data series has no data points.");var r=[],n=e.dataSeries.map((function(e){return e.name})),i=null!==(t=e.minBin)&&void 0!==t?t:e.dataSeries.map((function(e){return ai(e.probabilityValues,ei)})).reduce(ei),s=null!==(a=e.maxBin)&&void 0!==a?a:e.dataSeries.map((function(e){return ai(e.probabilityValues,ti)})).reduce(ti);i>0&&i--,s++;for(var o=function(t){var a={bin:t};e.dataSeries.forEach((function(e){var r=e.probabilityValues.get(t);a[e.name]=void 0!==r?r:0})),r.push(a)},c=i;c<=s;c++)o(c);return[r,n]}(this.props),i=Object(A.a)(r,2),s=i[0],o=i[1],c=this.props.dataSeries.map((function(e,t){var a=e.averageValue;if(void 0!==a){var r=Math.round(a).toString();return Object(n.jsx)(Hn.a,{x:r,stroke:ot[t].medianValueColor,label:"Median"},"avgline-".concat(t))}return null})),l=o.map((function(e,t){return Object(n.jsx)(zn.a,{type:"step",dataKey:e,stroke:ot[t].baseHighlightColor,fillOpacity:.7,fill:ot[t].baseColor},"area-".concat(t))})),u=null!==(e=this.props.maxValue)&&void 0!==e?e:this.props.dataSeries.map((function(e){return Array.from(e.probabilityValues.values()).reduce(ti)})).reduce(ti),d={};return void 0!==this.props.size?(d.width=this.props.size[0],d.height=this.props.size[1]):null!==this.containerRef.current?d.height=Math.round(.3*this.containerRef.current.getBoundingClientRect().width):d.height=300,Object(n.jsx)("div",{ref:this.containerRef,style:Object(nt.a)(Object(nt.a)({},d),null!==(t=this.props.style)&&void 0!==t?t:{}),children:Object(n.jsx)(Jn.a,{width:"100%",height:"100%",children:Object(n.jsxs)(Kn.a,{data:s,margin:{top:10,right:20,left:20,bottom:10},children:[Object(n.jsx)(Zn.a,{strokeDasharray:"3 3"}),Object(n.jsx)(Yn.a,{dataKey:"bin"}),Object(n.jsx)(Qn.a,{domain:[this.props.minValue,u],tickFormatter:function(e){return ri(Number.parseFloat(e),0)}}),Object(n.jsx)(qn.a,{formatter:function(e){return ri(Number.parseFloat(e),2)},labelFormatter:function(e){return t=a.props.statLabel,r=e,"".concat(t,": ").concat(r);var t,r}}),c,l,Object(n.jsx)(Xn.a,{})]})})})}}]),a}(s.a.Component);var ii={display:"flex",flexDirection:"row",justifyItems:"flex-start",alignItems:"center"},si={display:"flex",flexBasis:"auto",flexShrink:0,flexGrow:0,alignContent:"center",justifyContent:"center",textTransform:"uppercase",verticalAlign:"middle"},oi={display:"block",flexBasis:"auto",flexShrink:0,flexGrow:1};function ci(e){var t,a,r,i=(t=e.seriesNames,a=e.series,r=e.averageValues,a.map((function(e,a){return{name:t[a],probabilityValues:(e.size,e),averageValue:r[a]}})));return Object(n.jsxs)("div",{style:ii,children:[Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"baseline",minWidth:80},children:[Object(n.jsx)("div",{style:{flexBasis:"auto",flexGrow:0,flexShrink:0},children:Object(n.jsx)(Da.a,{variant:"h6",style:si,children:e.title})}),Object(n.jsx)("div",{style:{flexBasis:"auto",flexGrow:0,flexShrink:0,position:"relative",top:2},children:Object(n.jsx)(aa.a,{title:e.caption,children:Object(n.jsx)(Fn.a,{fontSize:"small"})})})]}),Object(n.jsx)(ni,{style:oi,size:e.size,minBin:e.minValue,maxBin:e.maxValue,minValue:0,maxValue:e.maxProbability,dataSeries:i,statLabel:e.title.toLocaleUpperCase()})]})}function li(e){return null===e?-1:e.components.map((function(e){return e.profile.endLevel})).reduce((function(e,t){return Math.max(e,t)}))}var ui=new Map;function di(e){var t=ui.get(e);if(void 0===t)throw new RangeError("Unknown StatArray index ".concat(e));return t}function hi(e){return Array.from(e.keys()).map((function(e){return[e,e]})).reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}))}function pi(e,t){var a=Math.pow(10,t);return Math.floor(e*a)/a}function fi(e,t){var a=Math.pow(10,t);return Math.ceil(e*a)/a}function vi(e,t,a){var r=e.components.map((function(e){return E(a,e.profile.startLevel,e.profile.endLevel)}));return{seriesNames:e.components.map((function(e,t){return"(#".concat(t+1,") ").concat(w(e.profile.character)," lvl ").concat(r[t])})),series:e.components.map((function(e,a){var n=e.result.get(r[a]);if(void 0===n)return console.error('"Level to use" is missing from results. Theoretical bounds are '.concat(e.profile.startLevel," to ").concat(e.profile.endLevel,".")),new Map;switch(t){case 0:return n.hp;case 1:return n.str;case 2:return n.mag;case 3:return n.dex;case 4:return n.spd;case 5:return n.lck;case 6:return n.def;case 7:return n.res;case 8:return n.cha;case B:return n.levelupTotal;default:throw new RangeError("Unrecognized index for a stat component: ".concat(t))}})),averageValues:e.components.map((function(e,a){return function(e,t,a){var r=e.result.get(t);if(void 0===r)throw new RangeError("Cannot compute distribution average because data for level ".concat(t," is not available in distribution."));var n=It(r,a);return void 0===n?void 0:n.median}(e,r[a],t)}))}}ui.set(0,"The probability (y-axis) that the character's HP will end up at that value (x-axis) at the chosen level."),ui.set(1,"The probability (y-axis) that the character's STR will end up at that value (x-axis) at the chosen level."),ui.set(2,"The probability (y-axis) that the character's MAG will end up at that value (x-axis) at the chosen level."),ui.set(3,"The probability (y-axis) that the character's DEX will end up at that value (x-axis) at the chosen level."),ui.set(4,"The probability (y-axis) that the character's SPD will end up at that value (x-axis) at the chosen level."),ui.set(5,"The probability (y-axis) that the character's LCK will end up at that value (x-axis) at the chosen level."),ui.set(6,"The probability (y-axis) that the character's DEF will end up at that value (x-axis) at the chosen level."),ui.set(7,"The probability (y-axis) that the character's RES will end up at that value (x-axis) at the chosen level."),ui.set(8,"The probability (y-axis) that the character's CHA will end up at that value (x-axis) at the chosen level."),ui.set(B,"The probability (y-axis) that the character will gain that many stat points (x-axis) when advancing to the chosen level.");var bi=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"shouldComponentUpdate",value:function(e){var t,a;return this.props.selectedLevel!==e.selectedLevel||(null===(t=e.report)||void 0===t?void 0:t.cacheToken)!==(null===(a=this.props.report)||void 0===a?void 0:a.cacheToken)}},{key:"render",value:function(){if(null===this.props.report)return Object(n.jsx)(n.Fragment,{});var e=this.props.report,t=function(e,t){return e.components.map((function(e){var a=E(t,e.profile.startLevel,e.profile.endLevel),r=e.result.get(a);if(void 0===r)throw new RangeError("This error should not happen: stat probability distribution was not computed for the 'level to use'.");var n=hi(r.hp),i=Object(A.a)(n,2),s=i[0],o=i[1],c=hi(r.levelupTotal),l=Object(A.a)(c,2),u=l[0],d=l[1],h=[r.str,r.mag,r.dex,r.spd,r.lck,r.def,r.res,r.cha].map((function(e){return hi(e)})).reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]})),p=Object(A.a)(h,2),f=p[0],v=p[1],b=[r.str,r.mag,r.dex,r.spd,r.lck,r.def,r.res,r.cha].map((function(e){return Math.max.apply(Math,Object(m.a)(e.values()))}));return[s,o,f,v,u,d,Math.max.apply(Math,Object(m.a)(b))]})).reduce((function(e,t){return[pi(Math.min(e[0],t[0]),2),fi(Math.max(e[1],t[1]),2),pi(Math.min(e[2],t[2]),2),fi(Math.max(e[3],t[3]),2),pi(Math.min(e[4],t[4]),2),fi(Math.max(e[5],t[5]),2),fi(Math.max(e[6],t[6]),2)]}))}(e,this.props.selectedLevel),a=Object(A.a)(t,7),r=a[0],i=a[1],s=a[2],o=a[3],c=a[6],l=Math.max(c,.3)+.01;return Object(n.jsx)("div",{style:{marginTop:16},children:Object(n.jsxs)("div",{style:{marginTop:16},children:[Object(n.jsx)(ci,Object(nt.a)(Object(nt.a)({},vi(e,0,this.props.selectedLevel)),{},{minValue:r,maxValue:i,maxProbability:l,title:R(0),caption:di(0)})),Object(n.jsx)(ci,Object(nt.a)(Object(nt.a)({},vi(e,1,this.props.selectedLevel)),{},{minValue:s,maxValue:o,maxProbability:l,title:R(1),caption:di(1)})),Object(n.jsx)(ci,Object(nt.a)(Object(nt.a)({},vi(e,2,this.props.selectedLevel)),{},{minValue:s,maxValue:o,maxProbability:l,title:R(2),caption:di(2)})),Object(n.jsx)(ci,Object(nt.a)(Object(nt.a)({},vi(e,3,this.props.selectedLevel)),{},{minValue:s,maxValue:o,maxProbability:l,title:R(3),caption:di(3)})),Object(n.jsx)(ci,Object(nt.a)(Object(nt.a)({},vi(e,4,this.props.selectedLevel)),{},{minValue:s,maxValue:o,maxProbability:l,title:R(4),caption:di(4)})),Object(n.jsx)(ci,Object(nt.a)(Object(nt.a)({},vi(e,5,this.props.selectedLevel)),{},{minValue:s,maxValue:o,maxProbability:l,title:R(5),caption:di(5)})),Object(n.jsx)(ci,Object(nt.a)(Object(nt.a)({},vi(e,6,this.props.selectedLevel)),{},{minValue:s,maxValue:o,maxProbability:l,title:R(6),caption:di(6)})),Object(n.jsx)(ci,Object(nt.a)(Object(nt.a)({},vi(e,7,this.props.selectedLevel)),{},{minValue:s,maxValue:o,maxProbability:l,title:R(7),caption:di(7)})),Object(n.jsx)(ci,Object(nt.a)(Object(nt.a)({},vi(e,8,this.props.selectedLevel)),{},{minValue:s,maxValue:o,maxProbability:l,title:R(8),caption:di(8)})),Object(n.jsx)(ci,Object(nt.a)(Object(nt.a)({},vi(e,B,this.props.selectedLevel)),{},{minValue:0,maxValue:9,maxProbability:l,title:R(B),caption:di(B)}))]})})}}]),a}(i.Component),gi=a(552),mi=a(553),ji=a(294),xi=a(295),yi=a(292),Oi=a(291),wi=a.n(Oi).a,ki={display:"flex",flexGrow:0,flexShrink:0,flexDirection:"row",flexBasis:0,flexWrap:"wrap",justifyContent:"flex-start"},Si={display:"flex",flexGrow:0,flexShrink:0},Ci=Object(n.jsxs)("span",{children:["The RNG rating goes from -1 (worst possible) to 1 (best possible) representing the character's ",Object(n.jsx)("b",{children:"overall"})," RNG luck. 0 is average. Below -0.3 and above 0.3 should be considered unusually bad/good luck. Numbers past -0.7/0.7 without stat booster items are extremely rare."]});function Li(e,t){var a=function(e,t){for(var a=new Array(9),r=0;r<9;r++)a[r]=t(e[r],r);return a}(e,(function(e,a){return function(e,t){var a,r=0,n=0,i=0,s=Object(K.a)(e.keys());try{for(s.s();!(a=s.n()).done;){var o=a.value,c=e.get(o);o<t?r+=c:o>t?i+=c:n+=c}}catch(l){s.e(l)}finally{s.f()}return[r,n,i]}(Rt(t,a),e)})),r=new Map;return a.forEach((function(e,t){var a=Object(A.a)(e,3),n=a[0],i=a[1],s=a[2];r.set(R(t),{below:n,same:i,above:s})})),r}function Mi(e){var t=[1,1.5,1.5,1,1,.3,1,1,.5],a=0;N((function(r){var n=e.get(R(r)),i=n.below+.5*n.same;a+=t[r]*function(e){return e>=.5?Math.pow(2*e-1,2):-Math.pow(-(2*e-1),2)}(i)}));var r,n=a/T(t);return r=n,Math.tanh(2*r)}var Ai={},Ei={padding:8,marginTop:16},Bi={},Di={},Ii={fontSize:24,fontWeight:"bold"};function Ri(e){var t,a,r=ot[e.profileIndex].baseColor,i=ot[e.profileIndex].medianValueColor,s=(t=e.distributions,a=e.ranks,N((function(e){var r=R(e),n=It(t,e);if(void 0===n){var i=JSON.stringify(Object.fromEntries(Rt(t,e).entries()));throw new Error("Unexpected: distribution with no calculable median. Stat ".concat(r,", distribution: ").concat(i))}var s=n.pLower+.5*n.pMedian,o=a.get(r);if(void 0===o)throw new Error("Failed to look up rank percentile because key ".concat(r," was missing. Should be a canonical stat name."));return{stat:r,median:s,reference:o.below+.5*o.same}})));return Object(n.jsxs)(gi.a,{outerRadius:90,width:400,height:300,data:s,children:[Object(n.jsx)(mi.a,{}),Object(n.jsx)(ji.a,{dataKey:"stat"}),Object(n.jsx)(xi.a,{domain:[0,1]}),Object(n.jsx)(yi.a,{name:"Median",dataKey:"median",stroke:"#bbbbbb",fill:"#bbbbbb",fillOpacity:.4}),Object(n.jsx)(yi.a,{name:"".concat(e.characterName),dataKey:"reference",stroke:i,fill:r,fillOpacity:.4}),Object(n.jsx)(qn.a,{formatter:function(e){return"".concat((100*e).toFixed(2),"%")},labelFormatter:function(e){return"".concat(e.toUpperCase()," Percentile Ranking")}}),Object(n.jsx)(Xn.a,{})]})}function Pi(e){var t=V();if(e.components.length>0){var a=e.components[0].result,r=e.components[0].profile.endLevel,n=a.get(r);if(void 0===n)throw new Error("Generated report is missing distributions for end level, indicates report generation error.");t=N((function(e){var t=It(n,e);if(void 0===t)throw new Error("Failed to get median from a single-stat-distribution, indicates report generation error.");return t.median}))}return t}var Ni=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={referenceStats:Pi(e.report)},r}return Object(u.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return!H(this.state.referenceStats,t.referenceStats)||(e.reportIterationCounter!==this.props.reportIterationCounter||e.selectedLevel!==this.props.selectedLevel)}},{key:"render",value:function(){var e=this,t=this.props.report.components.map((function(t,a){var r=E(e.props.selectedLevel,t.profile.startLevel,t.profile.endLevel),i=t.result.get(r);if(void 0===i)throw new RangeError("Missing data for a level that was already clamped.");var s=w(t.profile.character),o=q(function(e,t){var a=e.changes.filter((function(e){return e.level<=t}));if(0===a.length)return e.startClass;for(var r=a.reduce((function(e,t){return e.level>t.level?e:t})).level,n=a.length-1;n>=0;n--)if(a[n].level===r)return a[n].class;throw new Error("Code should not reach here. If it does, it means the algorithm for finding the expected character class is wrong.")}(t.profile,r)),c=function(e,t,a){var r=t.result.get(a);if(void 0===r)throw new RangeError("No stat distribution found for level ".concat(a,"."));return Li(e,r)}(e.state.referenceStats,t,r),l=Mi(c),u=isNaN(l)?"WTF":l.toFixed(3),d=ot[a].medianValueColor;return Object(n.jsxs)(wn.a,{style:Ei,children:[Object(n.jsx)("div",{style:Bi,children:Object(n.jsxs)(Da.a,{variant:"body1",style:Di,children:["How good would these stats be for\xa0",Object(n.jsx)("span",{style:{color:d,fontWeight:"bold"},children:s}),"\xa0as a\xa0",Object(n.jsxs)("span",{style:{color:d,fontWeight:"bold"},children:["level ",r," ",o]}),"?"]})}),Object(n.jsx)("div",{children:Object(n.jsx)(Ri,{ranks:c,profileIndex:a,distributions:i,characterName:s})}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"baseline",marginTop:10},children:[Object(n.jsx)("div",{style:{flexBasis:"auto",flexGrow:0,flexShrink:0},children:Object(n.jsx)(Da.a,{variant:"body1",children:"Overall RNG luck:\xa0"})}),Object(n.jsx)("div",{style:{flexBasis:"auto",flexGrow:0,flexShrink:0},children:Object(n.jsxs)(Da.a,{style:Ii,children:[u,"\xa0"]})}),Object(n.jsx)("div",{style:{flexBasis:"auto",flexGrow:0,flexShrink:0,position:"relative",top:1},children:Object(n.jsx)(wi,{title:Ci,children:Object(n.jsx)(Fn.a,{fontSize:"small"})})})]})]},"rngreport-card-".concat(a))}));return Object(n.jsxs)("div",{style:Ai,children:[Object(n.jsx)(Da.a,{variant:"body1",children:"Your Character's Stats"}),Object(n.jsx)(Wa,{minimums:V(),maximums:G(150),value:this.state.referenceStats,onChanged:function(t){var a;a=t,e.setState({referenceStats:a})},containerStyle:ki,elementStyle:Si}),t]})}}]),a}(i.Component),Ti=a(298),Gi=a.n(Ti),Vi=a(562),Ui=a(554),Wi=a(555),_i=a(556),Fi=function(e,t){return e-t};function Hi(e,t,a,r,n,i,s){return"".concat(e,",").concat(w(t),",").concat(a,",").concat(r.toString(),",").concat(n,",").concat(i,",").concat(s)}function zi(e){var t="ProfileIndex,Character,Class,Level,Stat,Value,Probability",a=e.components.flatMap((function(e,t){var a=function(e){var t=new Map,a=e.startLevel,r=e.startClass,n=Object(m.a)(e.changes).reverse();for(console.log(Object(m.a)(n));a<=e.endLevel;){for(;n.length>0&&a===n[n.length-1].level;)r=n.pop().class;t.set(a,r),a++}return t}(e.profile);return Array.from(e.result.keys()).sort(Fi).flatMap((function(r){var n=q(a.get(r)),i=e.result.get(r),s=[];N((function(a){var o=R(a),c=Rt(i,a);Array.from(c.keys()).sort(Fi).map((function(a){var i=c.get(a);return Hi(t,e.profile.character,n,r,o,a,i)})).forEach((function(e){return s.push(e)}))}));var o=Rt(i,B),c=Array.from(o.keys()).sort(Fi);return c.map((function(a){var i=o.get(a);return Hi(t,e.profile.character,n,r,"levelup-total",a,i)})).forEach((function(e){return s.push(e)})),s}))})),r=[t].concat(Object(m.a)(a)).join("\n");return new Blob([r],{type:"text/csv;charset=utf-8"})}var Ji=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).dataBlobUrl=void 0,r.state={},r.dataBlobUrl=null,r}return Object(u.a)(a,[{key:"downloadDataBlob",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==this.dataBlobUrl&&this.clearDataBlob(),this.dataBlobUrl=URL.createObjectURL(zi(this.props.report)),(t=document.createElement("a")).href=this.dataBlobUrl,t.target="_blank",t.download="analysis-report.csv",t.click();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearDataBlob",value:function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==this.dataBlobUrl&&(URL.revokeObjectURL(this.dataBlobUrl),this.dataBlobUrl=null);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=function(){var t=Object(g.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clearDataBlob();case 2:e.props.onClose();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=this.props.report.components.map((function(e){return e.profile})).map((function(e,t){var a=e.changes.length>0?e.changes[e.changes.length-1].class:void 0;return Object(n.jsxs)(Da.a,{variant:"body2",children:[(t+1).toString(),". ",w(e.character)," lvl. ",e.startLevel.toString()," ",q(e.startClass),"\xa0\u2192\xa0 lvl. ",e.endLevel.toString()," ",void 0!==a?q(a):""]},"export-label-".concat(t))}));return Object(n.jsxs)(ka.a,{open:this.props.open,onClose:t,children:[Object(n.jsx)(La.a,{children:"Export Analysis Report"}),Object(n.jsxs)(Ca.a,{style:{minWidth:400,minHeight:100},children:[Object(n.jsx)(Da.a,{variant:"subtitle1",children:"Exporting probability distributions for:"}),a,Object(n.jsx)("br",{style:{height:16}}),Object(n.jsx)(Wt.a,{variant:"contained",color:"primary",onClick:function(){return e.downloadDataBlob()},children:"Download"})]}),Object(n.jsx)(Sa.a,{children:Object(n.jsx)(Wt.a,{onClick:t,color:"default",children:"Close"})})]})}}]),a}(s.a.Component);var Ki=0;var Zi={padding:8,display:"flex",flexDirection:"row",justifyContent:"flex-end"},Yi={display:"block",flexBasis:"auto",flexGrow:0,flexShrink:0},Qi=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).listenerHandle=void 0,r.reportIterationCounter=void 0,r.state={resultsComputed:!1,results:null,profileBlockExpansion:[],selectedReportLevel:1e3,exportDataDialogOpen:!1},r.listenerHandle=-1,r.reportIterationCounter=0,r}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.context.pageManager;this.attachListener(e,this.props.pageId)}},{key:"componentDidUpdate",value:function(e,t,a){var r=this.context.pageManager;this.props.pageId!==e.pageId&&(this.detachListener(r,e.pageId),this.attachListener(r,this.props.pageId),this.reconcilePageState(r))}},{key:"componentWillUnmount",value:function(){var e=this.context.pageManager;this.detachListener(e,this.props.pageId)}},{key:"render",value:function(){var e=this,t=this.context.pageManager.getPageData(this.props.pageId),a=null;a=t.profiles.length<ot.length?Object(n.jsx)(Wt.a,{variant:"contained",disableElevation:!0,onClick:function(){return e.onAddProfileClicked()},color:"primary",style:Yi,children:"Add Profile"}):Object(n.jsx)(Wt.a,{variant:"contained",disableElevation:!0,disabled:!0,style:Yi,children:"Max Profiles Added"});var r,i=this.state.resultsComputed?"default":"primary",s=Object(n.jsx)(Wt.a,{variant:"contained",disableElevation:!0,color:i,onClick:function(){return e.onGenerateReportClicked()},children:"Generate Report"}),o=Object(n.jsxs)("div",{children:[t.profiles.map((function(a,r){return e.renderProfile(t,a,r)})),Object(n.jsx)("div",{style:Zi,children:a})]}),c=null===t.report?null:Object(n.jsxs)(Vi.a,{children:[Object(n.jsxs)(Ui.a,{expandIcon:Object(n.jsx)(Gi.a,{}),id:"rejesus_display",children:[Object(n.jsx)(Da.a,{variant:"h6",style:{flexBasis:"33%",flexShrink:0,textAlign:"start"},children:"RNGesus Luck Analysis"}),Object(n.jsx)(Da.a,{variant:"h6",style:{opacity:.5},children:"click to open"})]}),Object(n.jsx)(Wi.a,{children:Object(n.jsx)(_i.a,{children:Object(n.jsx)(Ni,{report:t.report,reportIterationCounter:this.reportIterationCounter,selectedLevel:this.state.selectedReportLevel})})})]}),l=null===t.report?null:Object(n.jsxs)(wn.a,{style:{padding:16,marginTop:16},children:[Object(n.jsx)(Wt.a,{style:{float:"right"},variant:"contained",color:"default",onClick:function(){e.setState({exportDataDialogOpen:!0})},children:"Export Data"}),Object(n.jsx)(Da.a,{variant:"h6",style:{textAlign:"start"},children:"Individual Stat Breakdown"}),Object(n.jsx)(Ji,{open:this.state.exportDataDialogOpen,onClose:function(){e.setState({exportDataDialogOpen:!1})},report:t.report}),Object(n.jsx)(bi,{report:t.report,selectedLevel:this.state.selectedReportLevel})]}),u=null===t.report?null:Object(n.jsx)("div",{style:{margin:16},children:Object(n.jsx)(Qt,{minLevel:(r=t.report,null===r?-1:r.components.map((function(e){return e.profile.startLevel})).reduce((function(e,t){return Math.min(e,t)}))),maxLevel:li(t.report),value:this.state.selectedReportLevel,customText:"View results for level:",labelStyle:"inline",onSelected:function(t){e.setState({selectedReportLevel:t})}})});return Object(n.jsxs)("div",{style:{maxWidth:1e3},children:[o,Object(n.jsx)(wn.a,{variant:"outlined",style:{margin:8},children:Object(n.jsxs)(kn.a,{style:{textAlign:"start"},children:[Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(n.jsx)("div",{style:{flexBasis:"auto",flexShrink:0,flexGrow:0},children:Object(n.jsx)(Da.a,{variant:"h5",style:{textAlign:"start"},children:"Analysis"})}),Object(n.jsx)("div",{style:{flexBasis:"auto",flexShrink:0,flexGrow:1,marginLeft:24},children:s})]}),u,c,l]})})]})}},{key:"onGenerateReportClicked",value:function(){var e,t=this.context.pageManager,a=t.getPageData(this.props.pageId),r={components:(e=a.profiles).map((function(e){var t=An(e),a=e.maxStatMods;return new Vt(e.character,t,a)})).map((function(e){return e.compute(),e.getDistributions()})).map((function(t,a){return{profile:e[a],result:t}})),cacheToken:++Ki};this.reportIterationCounter++,t.updateAnalysis(this.props.pageId,r),this.setState({resultsComputed:!0,selectedReportLevel:li(r)})}},{key:"onAddProfileClicked",value:function(){this.context.pageManager.newProfile(this.props.pageId),this.setState({resultsComputed:!1})}},{key:"onRemoveProfileClicked",value:function(e){this.context.pageManager.deleteProfile(this.props.pageId,e),this.setState({resultsComputed:!1})}},{key:"profileChanged",value:function(e,t){this.context.pageManager.updateProfile(this.props.pageId,t,e),this.setState({resultsComputed:!1})}},{key:"renderProfile",value:function(e,t,a){var r=this,i=e.profiles.length>1;return Object(n.jsx)(Wn,{profile:t,showDeleteButton:i,onProfileChange:function(e){return r.profileChanged(e,a)},onDeleteClicked:function(){return r.onRemoveProfileClicked(a)}},a)}},{key:"attachListener",value:function(e,t){var a=this;this.listenerHandle=e.addPageListener(t,(function(e,t){a.onPageUpdated(e,t)}))}},{key:"detachListener",value:function(e,t){e.removePageListener(t,this.listenerHandle),this.listenerHandle=-1}},{key:"onPageUpdated",value:function(e,t){this.forceUpdate()}},{key:"reconcilePageState",value:function(e){var t=e.getPageData(this.props.pageId),a=Array.from(this.state.profileBlockExpansion);if(t.profiles.length>this.state.profileBlockExpansion.length){var r=t.profiles.length-this.state.profileBlockExpansion.length;a=a.concat(Array(r).fill(!1))}else t.profiles.length<this.state.profileBlockExpansion.length&&(a=a.slice(0,t.profiles.length));if(null!==t.report){var n=t.profiles.length===t.report.components.length&&t.report.components.map((function(e){return e.profile})).every((function(e,a){var r=t.profiles[a];return xt(r.character,An(r),r.maxStatMods)===xt(e.character,An(e),e.maxStatMods)}));this.setState({resultsComputed:n,results:t.report.components.map((function(e){return e.result})),profileBlockExpansion:a})}else this.setState({resultsComputed:!1,results:null,profileBlockExpansion:a})}}]),a}(i.Component);Qi.contextType=vt().Context;var qi=a(557),Xi=a(299),$i=a.n(Xi),es=a(300),ts=a.n(es),as=a(301),rs=a.n(as),ns=a.p+"static/media/about.46910db6.md",is=a.p+"static/media/docs.58ed06f9.md",ss=a.p+"static/media/faq.ea806496.md",os={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",marginTop:16},cs={display:"inline",marginBottom:-5,marginLeft:16,paddingRight:2},ls=/(\w+).github.io/i;function us(e){var t=window.location.hostname.match(ls),a=void 0,r="#";if(null!==t){var i=t[1];a="https://github.com/".concat(i,"/fe3hanalyzer/blob/main/"),r="https://github.com/".concat(i,"/fe3hanalyzer")}var s=void 0===a?ss:a+"docs/faq.md",o=void 0===a?is:a+"docs/docs.md",c=void 0===a?ns:a+"docs/about.md";return Object(n.jsx)("div",{style:{display:"flex",width:1e3,flexDirection:"row"},children:Object(n.jsxs)(wn.a,{style:{margin:8,padding:16,flexBasis:"auto",flexGrow:1,flexShrink:1},children:[Object(n.jsx)(Da.a,{variant:"h3",children:"FE:3H Character Analyzer"}),Object(n.jsx)("a",{href:r,style:{display:"block",float:"right",marginTop:18},target:"_blank",rel:"noreferrer",children:Object(n.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==",alt:"Link to GitHub repository",style:{height:16,width:16}})}),Object(n.jsxs)("div",{style:os,children:[Object(n.jsxs)(qi.a,{href:s,underline:"always",target:"_blank",rel:"noreferrer",children:[Object(n.jsx)($i.a,{fontSize:"small",style:Object(nt.a)(Object(nt.a)({},cs),{},{marginLeft:0})}),"FAQ"]}),Object(n.jsxs)(qi.a,{href:o,underline:"always",target:"_blank",rel:"noreferrer",children:[Object(n.jsx)(ts.a,{fontSize:"small",style:cs}),"Documentation"]}),Object(n.jsxs)(qi.a,{href:c,underline:"always",target:"_blank",rel:"noreferrer",children:[Object(n.jsx)(rs.a,{fontSize:"small",style:cs}),"About"]})]})]})})}var ds=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={profile:{character:0,maxStatMods:{StrAndSpdUp:!0,LckAndChaUp:!0,MagAndDexUp:!0,DefAndResUp:!0},startLevel:1,startClass:J.Commoner,startStats:[0,0,0,0,0,0,0,0,0],changes:[],endLevel:99},loaded:!1},r}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(){return rt.apply(this,arguments)})().then((function(){(function(){return Re.apply(this,arguments)})().then((function(){var t=vt();t.currentValue.pageManager.hasPage(0)||t.currentValue.pageManager.createNewPage(0),e.setState({loaded:!0})}))}))}},{key:"render",value:function(){var e=Object(p.a)({typography:{}});if(this.state.loaded){var t=vt(),a=t.Context;return Object(n.jsx)(a.Provider,{value:t.currentValue,children:Object(n.jsx)(f.a,{theme:e,children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(us,{}),Object(n.jsx)(Qi,{pageId:0})]})})})}return Object(n.jsx)("div",{children:"Loading..."})}}]),a}(s.a.Component);c.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(ds,{})}),document.getElementById("root"))}},[[502,1,2]]]);
//# sourceMappingURL=main.9693663c.chunk.js.map